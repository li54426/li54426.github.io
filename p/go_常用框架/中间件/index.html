<!DOCTYPE html>
<html lang="zh-cn" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content=" content {:toc} ÂÆûÁé∞ÂáΩÊï∞ÂØπË±° Âú® Go ‰∏≠ÔºåÂèØ‰ª•‰ΩøÁî®ÂáΩÊï∞Á±ªÂûãÂíåÈó≠ÂåÖÊù•ÂÆûÁé∞Á±ª‰ºº‰∫é C++ ÂáΩÊï∞ÂØπË±°ÔºàFunctorÔºâÁöÑÂäüËÉΩ„ÄÇÂáΩÊï∞Á±ªÂûãÂèØ‰ª•‰Ωú‰∏∫ÂèÇÊï∞‰º†ÈÄíÂíåËøîÂõûÂÄºÔºåËÄåÈó≠ÂåÖÂèØ‰ª•ÊçïËé∑Â§ñÈÉ®ÂèòÈáèÂπ∂ÂΩ¢Êàê‰∏Ä‰∏™ÂèØË∞ÉÁî®ÁöÑÂáΩÊï∞ÂØπË±°„ÄÇ\n">
<title>Go_Â∏∏Áî®Ê°ÜÊû∂/‰∏≠Èó¥‰ª∂</title>

<link rel='canonical' href='https://li54426.github.io/p/go_%E5%B8%B8%E7%94%A8%E6%A1%86%E6%9E%B6/%E4%B8%AD%E9%97%B4%E4%BB%B6/'>

<link rel="stylesheet" href="/scss/style.min.663803bebe609202d5b39d848f2d7c2dc8b598a2d879efa079fa88893d29c49c.css"><meta property='og:title' content="Go_Â∏∏Áî®Ê°ÜÊû∂/‰∏≠Èó¥‰ª∂">
<meta property='og:description' content=" content {:toc} ÂÆûÁé∞ÂáΩÊï∞ÂØπË±° Âú® Go ‰∏≠ÔºåÂèØ‰ª•‰ΩøÁî®ÂáΩÊï∞Á±ªÂûãÂíåÈó≠ÂåÖÊù•ÂÆûÁé∞Á±ª‰ºº‰∫é C++ ÂáΩÊï∞ÂØπË±°ÔºàFunctorÔºâÁöÑÂäüËÉΩ„ÄÇÂáΩÊï∞Á±ªÂûãÂèØ‰ª•‰Ωú‰∏∫ÂèÇÊï∞‰º†ÈÄíÂíåËøîÂõûÂÄºÔºåËÄåÈó≠ÂåÖÂèØ‰ª•ÊçïËé∑Â§ñÈÉ®ÂèòÈáèÂπ∂ÂΩ¢Êàê‰∏Ä‰∏™ÂèØË∞ÉÁî®ÁöÑÂáΩÊï∞ÂØπË±°„ÄÇ\n">
<meta property='og:url' content='https://li54426.github.io/p/go_%E5%B8%B8%E7%94%A8%E6%A1%86%E6%9E%B6/%E4%B8%AD%E9%97%B4%E4%BB%B6/'>
<meta property='og:site_name' content='ÊºîÁ§∫Á´ôÁÇπ'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='byte_tech' /><meta property='article:tag' content='go' /><meta property='article:published_time' content='2023-08-17T09:43:00&#43;00:00'/><meta property='article:modified_time' content='2023-08-17T09:43:00&#43;00:00'/>
<meta name="twitter:title" content="Go_Â∏∏Áî®Ê°ÜÊû∂/‰∏≠Èó¥‰ª∂">
<meta name="twitter:description" content=" content {:toc} ÂÆûÁé∞ÂáΩÊï∞ÂØπË±° Âú® Go ‰∏≠ÔºåÂèØ‰ª•‰ΩøÁî®ÂáΩÊï∞Á±ªÂûãÂíåÈó≠ÂåÖÊù•ÂÆûÁé∞Á±ª‰ºº‰∫é C++ ÂáΩÊï∞ÂØπË±°ÔºàFunctorÔºâÁöÑÂäüËÉΩ„ÄÇÂáΩÊï∞Á±ªÂûãÂèØ‰ª•‰Ωú‰∏∫ÂèÇÊï∞‰º†ÈÄíÂíåËøîÂõûÂÄºÔºåËÄåÈó≠ÂåÖÂèØ‰ª•ÊçïËé∑Â§ñÈÉ®ÂèòÈáèÂπ∂ÂΩ¢Êàê‰∏Ä‰∏™ÂèØË∞ÉÁî®ÁöÑÂáΩÊï∞ÂØπË±°„ÄÇ\n">
    <link rel="shortcut icon" href="/favicon.ico" />

    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="ÂàáÊç¢ËèúÂçï">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/">
                
                    
                    
                    
                        
                        <img src="/img/avatar_hu15906844328442591646.jpg" width="300"
                            height="300" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">üç•</span>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/">ÊºîÁ§∫Á´ôÁÇπ</a></h1>
            <h2 class="site-description">ÊàëÁöÑ‰∏™‰∫∫ÂçöÂÆ¢„ÄÇ</h2>
        </div>
    </header><ol class="menu-social">
            
                <li>
                    <a 
                        href='https://github.com/CaiJimmy/hugo-theme-stack'
                        target="_blank"
                        title="GitHub"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
</svg>



                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='https://twitter.com'
                        target="_blank"
                        title="Twitter"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M22 4.01c-1 .49 -1.98 .689 -3 .99c-1.121 -1.265 -2.783 -1.335 -4.38 -.737s-2.643 2.06 -2.62 3.737v1c-3.245 .083 -6.135 -1.395 -8 -4c0 0 -4.182 7.433 4 11c-1.872 1.247 -3.739 2.088 -6 2c3.308 1.803 6.913 2.423 10.034 1.517c3.58 -1.04 6.522 -3.723 7.651 -7.742a13.84 13.84 0 0 0 .497 -3.753c-.002 -.249 1.51 -2.772 1.818 -4.013z" />
</svg>



                        
                    </a>
                </li>
            
        </ol><ol class="menu" id="main-menu">
        
        
        
        <li >
            <a href='/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>‰∏ªÈ°µ</span>
            </a>
        </li>
        
        
        <li >
            <a href='/%E5%85%B3%E4%BA%8E/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="7" r="4" />
  <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
</svg>



                
                <span>ÂÖ≥‰∫é</span>
            </a>
        </li>
        
        
        <li >
            <a href='/archives/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>Archives</span>
            </a>
        </li>
        
        
        <li >
            <a href='/search/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>Search</span>
            </a>
        </li>
        
        
        <li >
            <a href='/links/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5" />
  <path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5" />
</svg>



                
                <span>Links</span>
            </a>
        </li>
        
        <li class="menu-bottom-section">
            <ol class="menu">
                    
                        <li id="i18n-switch">  
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M4 5h7" />
  <path d="M9 3v2c0 4.418 -2.239 8 -5 8" />
  <path d="M5 9c-.003 2.144 2.952 3.908 6.7 4" />
  <path d="M12 20l4 -9l4 9" />
  <path d="M19.1 18h-6.2" />
</svg>



                            <select name="language" title="language" onchange="window.location.href = this.selectedOptions[0].value">
                                
                                    <option value="https://li54426.github.io/en/" >English</option>
                                
                                    <option value="https://li54426.github.io/" selected>‰∏≠Êñá</option>
                                
                                    <option value="https://li54426.github.io/ar/" >ÿπÿ±ÿ®Ÿä</option>
                                
                            </select>
                        </li>
                    
                

                
                    <li id="dark-mode-toggle">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <span>ÊöóËâ≤Ê®°Âºè</span>
                    </li>
                
            </ol>
        </li>
    </ol>
</aside>

    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">ÁõÆÂΩï</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ol>
    <li>
      <ol>
        <li>
          <ol>
            <li><a href="#ÂÆûÁé∞ÂáΩÊï∞ÂØπË±°">ÂÆûÁé∞ÂáΩÊï∞ÂØπË±°</a></li>
          </ol>
        </li>
        <li><a href="#test">test</a>
          <ol>
            <li><a href="#go-testÂèÇÊï∞">go testÂèÇÊï∞</a></li>
          </ol>
        </li>
        <li><a href="#log">log</a></li>
        <li><a href="#os">OS</a></li>
        <li><a href="#io">IO</a>
          <ol>
            <li><a href="#1reader">1„ÄÅReader</a></li>
            <li><a href="#2writer">2„ÄÅWriter</a></li>
            <li><a href="#3closer">3„ÄÅCloser</a></li>
            <li><a href="#4seeker">4„ÄÅSeeker</a></li>
          </ol>
        </li>
        <li><a href="#bufio">bufio</a></li>
        <li><a href="#string">string</a></li>
        <li><a href="#gorm">GORM</a>
          <ol>
            <li><a href="#demo">demo</a></li>
            <li><a href="#ÂÆö‰πâÊï∞ÊçÆÁ±ªÂûã">ÂÆö‰πâÊï∞ÊçÆÁ±ªÂûã</a></li>
            <li><a href="#ËøûÊé•-ÂÖ≥Èó≠Êï∞ÊçÆÂ∫ì">ËøûÊé•/ ÂÖ≥Èó≠Êï∞ÊçÆÂ∫ì</a></li>
            <li><a href="#ÂàõÂª∫">ÂàõÂª∫</a></li>
            <li><a href="#ÁÆÄÂçïÊü•ËØ¢">ÁÆÄÂçïÊü•ËØ¢</a></li>
            <li><a href="#select-ËØ≠Âè•">select ËØ≠Âè•</a></li>
            <li><a href="#ËøîÂõûÂ§öÊù°ËÆ∞ÂΩï">ËøîÂõûÂ§öÊù°ËÆ∞ÂΩï</a></li>
            <li><a href="#Êõ¥Êñ∞">Êõ¥Êñ∞</a></li>
            <li><a href="#‰∏çÂ≠òÂú®ÂàôÂàõÂª∫">‰∏çÂ≠òÂú®ÂàôÂàõÂª∫</a></li>
          </ol>
        </li>
        <li><a href="#net-http">net/ http</a>
          <ol>
            <li><a href="#ÂÆ¢Êà∑Á´ØÊñπÊ≥ï">ÂÆ¢Êà∑Á´ØÊñπÊ≥ï</a></li>
            <li><a href="#ÂÆ¢Êà∑Á´ØÂèÇÊï∞--neturl">ÂÆ¢Êà∑Á´ØÂèÇÊï∞  net/url</a></li>
            <li><a href="#postÊñπÊ≥ï">postÊñπÊ≥ï</a></li>
            <li><a href="#ÊúçÂä°Âô®Á´Ø">ÊúçÂä°Âô®Á´Ø</a></li>
          </ol>
        </li>
        <li><a href="#gin">gin</a>
          <ol>
            <li><a href="#gincontext">gin.context</a></li>
            <li><a href="#Âø´ÈÄü‰ΩøÁî®">Âø´ÈÄü‰ΩøÁî®</a></li>
            <li><a href="#json">json</a></li>
            <li><a href="#Ëé∑ÂèñÂèÇÊï∞">Ëé∑ÂèñÂèÇÊï∞</a></li>
            <li><a href="#Ë∑ØÁî±">Ë∑ØÁî±</a></li>
            <li><a href="#‰∏≠Èó¥‰ª∂">‰∏≠Èó¥‰ª∂</a></li>
            <li><a href="#Êó•Âøó">Êó•Âøó</a></li>
            <li><a href="#ÂõûÂ§ç">ÂõûÂ§ç</a></li>
            <li><a href="#gin-È°πÁõÆÁõÆÂΩïÁªìÊûÑ">gin È°πÁõÆÁõÆÂΩïÁªìÊûÑ</a></li>
          </ol>
        </li>
        <li><a href="#yaml">YAML</a>
          <ol>
            <li><a href="#ËØ≠Ê≥ïÁâπÁÇπ">ËØ≠Ê≥ïÁâπÁÇπ</a></li>
            <li><a href="#Â±ûÊÄß">Â±ûÊÄß</a></li>
            <li><a href="#‰ΩøÁî®ËØ¥Êòé">‰ΩøÁî®ËØ¥Êòé</a></li>
          </ol>
        </li>
        <li><a href="#jwt">jwt</a>
          <ol>
            <li><a href="#ÊëòË¶Å">ÊëòË¶Å</a></li>
            <li><a href="#ÁªìÊûÑ">ÁªìÊûÑ</a></li>
            <li><a href="#Á≠æÂêçÁÆóÊ≥ï">Á≠æÂêçÁÆóÊ≥ï</a></li>
            <li><a href="#jwt-‰∫ßÁîüÁöÑ-token-ËøòÈúÄË¶ÅÂä†ÂØÜ‰πà">jwt ‰∫ßÁîüÁöÑ token ËøòÈúÄË¶ÅÂä†ÂØÜ‰πà</a></li>
            <li><a href="#‰ΩøÁî®ËØ¥Êòé-1">‰ΩøÁî®ËØ¥Êòé</a></li>
          </ol>
        </li>
        <li><a href="#structmapper-githubcomhttpsgithubcomwizardshanstructmapper"><a href="https://github.com/wizardshan/structmapper">structmapper (github.com)</a></a></li>
        <li><a href="#hertz">hertz</a></li>
      </ol>
    </li>
  </ol>
</nav>
        </div>
    </section>

            
        
    </aside>


            <main class="main full-width">
    <article class="main-article">
    <header class="article-header">

    <div class="article-details">
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/p/go_%E5%B8%B8%E7%94%A8%E6%A1%86%E6%9E%B6/%E4%B8%AD%E9%97%B4%E4%BB%B6/">Go_Â∏∏Áî®Ê°ÜÊû∂/‰∏≠Èó¥‰ª∂</a>
        </h2>
    
        
    </div>

    
    
    
    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">2023-08-17</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    ÈòÖËØªÊó∂Èïø: 24 ÂàÜÈíü
                </time>
            </div>
        
    </footer>
    

    
</div>

</header>

    <section class="article-content">
    
    
    <ul>
<li>content
{:toc}</li>
</ul>
<h4 id="ÂÆûÁé∞ÂáΩÊï∞ÂØπË±°">ÂÆûÁé∞ÂáΩÊï∞ÂØπË±°
</h4><p>Âú® Go ‰∏≠ÔºåÂèØ‰ª•‰ΩøÁî®ÂáΩÊï∞Á±ªÂûãÂíåÈó≠ÂåÖÊù•ÂÆûÁé∞Á±ª‰ºº‰∫é C++ ÂáΩÊï∞ÂØπË±°ÔºàFunctorÔºâÁöÑÂäüËÉΩ„ÄÇÂáΩÊï∞Á±ªÂûãÂèØ‰ª•‰Ωú‰∏∫ÂèÇÊï∞‰º†ÈÄíÂíåËøîÂõûÂÄºÔºåËÄåÈó≠ÂåÖÂèØ‰ª•ÊçïËé∑Â§ñÈÉ®ÂèòÈáèÂπ∂ÂΩ¢Êàê‰∏Ä‰∏™ÂèØË∞ÉÁî®ÁöÑÂáΩÊï∞ÂØπË±°„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ÂÆö‰πâ‰∏Ä‰∏™ÂáΩÊï∞Á±ªÂûã
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">type</span> <span class="nx">MyFunc</span> <span class="kd">func</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span> <span class="kt">int</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ÂáΩÊï∞ÂØπË±°, ËøîÂõûÁ±ªÂûã‰∏∫ MyFunc
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="nf">AddN</span><span class="p">(</span><span class="nx">n</span> <span class="kt">int</span><span class="p">)</span> <span class="nx">MyFunc</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="kd">func</span><span class="p">(</span><span class="nx">x</span> <span class="kt">int</span><span class="p">)</span> <span class="kt">int</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="nx">x</span> <span class="o">+</span> <span class="nx">n</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ÂàõÂª∫‰∏Ä‰∏™ÂáΩÊï∞ÂØπË±°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">addTwo</span> <span class="o">:=</span> <span class="nf">AddN</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// Ë∞ÉÁî®ÂáΩÊï∞ÂØπË±°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">result</span> <span class="o">:=</span> <span class="nf">addTwo</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="c1">// ËæìÂá∫Ôºö5
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ÂàÜÂ±ÇËÆæËÆ°ÁöÑÈóÆÈ¢ò</p>
<ul>
<li>‰∏çÂêåÂ±ÇÊ¨°‰πãÈó¥ÁöÑÂ¶Ç‰ΩïËΩ¨Âåñ</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">Response</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">StatusCode</span> <span class="kt">int32</span>  <span class="s">`json:&#34;status_code&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="nx">StatusMsg</span>  <span class="kt">string</span> <span class="s">`json:&#34;status_msg,omitempty&#34;`</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">Video</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Id</span>            <span class="kt">int64</span>  <span class="s">`json:&#34;id,omitempty&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Author</span>        <span class="nx">User</span>   <span class="s">`json:&#34;author&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="nx">PlayUrl</span>       <span class="kt">string</span> <span class="s">`json:&#34;play_url&#34; json:&#34;play_url,omitempty&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="nx">CoverUrl</span>      <span class="kt">string</span> <span class="s">`json:&#34;cover_url,omitempty&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="nx">FavoriteCount</span> <span class="kt">int64</span>  <span class="s">`json:&#34;favorite_count,omitempty&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="nx">CommentCount</span>  <span class="kt">int64</span>  <span class="s">`json:&#34;comment_count,omitempty&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="nx">IsFavorite</span>    <span class="kt">bool</span>   <span class="s">`json:&#34;is_favorite,omitempty&#34;`</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">Comment</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Id</span>         <span class="kt">int64</span>  <span class="s">`json:&#34;id,omitempty&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="nx">User</span>       <span class="nx">User</span>   <span class="s">`json:&#34;user&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Content</span>    <span class="kt">string</span> <span class="s">`json:&#34;content,omitempty&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="nx">CreateDate</span> <span class="kt">string</span> <span class="s">`json:&#34;create_date,omitempty&#34;`</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">User</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Id</span>            <span class="kt">int64</span>  <span class="s">`json:&#34;id,omitempty&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Name</span>          <span class="kt">string</span> <span class="s">`json:&#34;name,omitempty&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="nx">FollowCount</span>   <span class="kt">int64</span>  <span class="s">`json:&#34;follow_count,omitempty&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="nx">FollowerCount</span> <span class="kt">int64</span>  <span class="s">`json:&#34;follower_count,omitempty&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="nx">IsFollow</span>      <span class="kt">bool</span>   <span class="s">`json:&#34;is_follow,omitempty&#34;`</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">Message</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Id</span>         <span class="kt">int64</span>  <span class="s">`json:&#34;id,omitempty&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Content</span>    <span class="kt">string</span> <span class="s">`json:&#34;content,omitempty&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="nx">CreateTime</span> <span class="kt">string</span> <span class="s">`json:&#34;create_time,omitempty&#34;`</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">MessageSendEvent</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">UserId</span>     <span class="kt">int64</span>  <span class="s">`json:&#34;user_id,omitempty&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="nx">ToUserId</span>   <span class="kt">int64</span>  <span class="s">`json:&#34;to_user_id,omitempty&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="nx">MsgContent</span> <span class="kt">string</span> <span class="s">`json:&#34;msg_content,omitempty&#34;`</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">MessagePushEvent</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">FromUserId</span> <span class="kt">int64</span>  <span class="s">`json:&#34;user_id,omitempty&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="nx">MsgContent</span> <span class="kt">string</span> <span class="s">`json:&#34;msg_content,omitempty&#34;`</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">User</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">UserId</span> <span class="kt">int64</span> <span class="s">`gorm:&#34;primary_key&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Name</span>   <span class="kt">string</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// FollowingCount  int64  `gorm:&#34;default:(-)&#34;`
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">// FollowerCount   int64  `gorm:&#34;default:(-)&#34;`
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">Password</span> <span class="kt">string</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// Avatar          string `gorm:&#34;default:(-)&#34;`
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">// BackgroundImage string `gorm:&#34;default:(-)&#34;`
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">Signature</span> <span class="kt">string</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// TotalFavorited  int64  `gorm:&#34;default:(-)&#34;`
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">// WorkCount       int64  `gorm:&#34;default:(-)&#34;`
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">// FavoriteCount   int64  `gorm:&#34;default:(-)&#34;`
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">// CreateAt        time.Time
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">// DeleteAt        time.Time
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">Video</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">VideoId</span>       <span class="kt">int64</span> <span class="s">`gorm:&#34;primaryKey&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="nx">UserId</span>        <span class="kt">int64</span>
</span></span><span class="line"><span class="cl">	<span class="nx">PlayUrl</span>       <span class="kt">string</span>
</span></span><span class="line"><span class="cl">	<span class="nx">CoverUrl</span>      <span class="kt">string</span>
</span></span><span class="line"><span class="cl">	<span class="nx">FavoriteCount</span> <span class="kt">int64</span>
</span></span><span class="line"><span class="cl">	<span class="nx">CommentCount</span>  <span class="kt">int64</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// Title    string `gorm:&#34;default:(-)&#34;`
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">CreateAt</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Time</span>
</span></span><span class="line"><span class="cl">	<span class="nx">UpdateAt</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Time</span>
</span></span><span class="line"><span class="cl">	<span class="nx">DeleteAt</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Time</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">GetUserDao</span><span class="p">()</span> <span class="o">*</span><span class="nx">UserDao</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="o">*</span><span class="nx">UserDao</span><span class="p">)</span> <span class="nf">CreateUser</span><span class="p">(</span><span class="nx">user</span> <span class="o">*</span><span class="nx">User</span><span class="p">)</span> <span class="p">(</span><span class="kt">int64</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="o">*</span><span class="nx">UserDao</span><span class="p">)</span> <span class="nf">FindUserByName</span><span class="p">(</span><span class="nx">username</span> <span class="kt">string</span><span class="p">)</span>  <span class="p">(</span><span class="o">*</span><span class="nx">User</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span> 
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">d</span> <span class="o">*</span><span class="nx">UserDao</span><span class="p">)</span> <span class="nf">FindUserById</span><span class="p">(</span><span class="nx">id</span> <span class="kt">int64</span><span class="p">)</span> <span class="p">(</span><span class="o">*</span><span class="nx">User</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span> 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">GetVideoDao</span><span class="p">()</span> <span class="o">*</span><span class="nx">VideoDao</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="o">*</span><span class="nx">VideoDao</span><span class="p">)</span> <span class="nf">CreateVideo</span><span class="p">(</span><span class="nx">video</span> <span class="o">*</span><span class="nx">Video</span><span class="p">)</span> <span class="p">(</span><span class="o">*</span><span class="nx">Video</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">d</span> <span class="o">*</span><span class="nx">VideoDao</span><span class="p">)</span> <span class="nf">FindVideoById</span><span class="p">(</span><span class="nx">id</span> <span class="kt">int64</span><span class="p">)</span> <span class="p">(</span><span class="o">*</span><span class="nx">Video</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="o">*</span><span class="nx">VideoDao</span><span class="p">)</span> <span class="nf">QueryVideoByUserId</span><span class="p">(</span><span class="nx">userId</span> <span class="kt">int64</span><span class="p">)</span> <span class="p">([]</span><span class="o">*</span><span class="nx">Video</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Ê†πÊçÆÊó∂Èó¥ÂíåÈúÄË¶ÅÊü•ËØ¢ÁöÑÊù°Êï∞ÔºåËé∑ÂèñvideoÂàóË°®
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="p">(</span><span class="o">*</span><span class="nx">VideoDao</span><span class="p">)</span> <span class="nf">QueryVideo</span><span class="p">(</span><span class="nx">date</span> <span class="o">*</span><span class="kt">string</span><span class="p">,</span> <span class="nx">limit</span> <span class="kt">int</span><span class="p">)</span> <span class="p">[]</span><span class="o">*</span><span class="nx">Video</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="test">test
</h3><p>Go ËØ≠Ë®Ä‰∏≠ÁöÑÊµãËØï‰æùËµñ go test ÂëΩ‰ª§„ÄÇÁºñÂÜôÊµãËØï‰ª£Á†ÅÂíåÁºñÂÜôÊôÆÈÄöÁöÑ Go ‰ª£Á†ÅËøáÁ®ãÊòØÁ±ª‰ººÁöÑÔºåÂπ∂‰∏çÈúÄË¶ÅÂ≠¶‰π†Êñ∞ÁöÑËØ≠Ê≥ï„ÄÅËßÑÂàôÊàñÂ∑•ÂÖ∑„ÄÇ</p>
<p>go test ÂëΩ‰ª§ÊòØ‰∏Ä‰∏™ÊåâÁÖß‰∏ÄÂÆöÁ∫¶ÂÆöÂíåÁªÑÁªáÁöÑÊµãËØï‰ª£Á†ÅÁöÑÈ©±Âä®Á®ãÂ∫è„ÄÇÂú®ÂåÖÁõÆÂΩïÂÜÖÔºåÊâÄÊúâ‰ª•_test.go ‰∏∫ÂêéÁºÄÂêçÁöÑÊ∫ê‰ª£Á†ÅÊñá‰ª∂ÈÉΩÊòØ go test ÊµãËØïÁöÑ‰∏ÄÈÉ®ÂàÜÔºå‰∏ç‰ºöË¢´ go build ÁºñËØëÂà∞ÊúÄÁªàÁöÑÂèØÊâßË°åÊñá‰ª∂‰∏≠„ÄÇ</p>
<p>Âú® <code>*_test.go</code> Êñá‰ª∂‰∏≠Êúâ‰∏âÁßçÁ±ªÂûãÁöÑÂáΩÊï∞Ôºå<strong>ÂçïÂÖÉÊµãËØïÂáΩÊï∞</strong>„ÄÅÂü∫ÂáÜÊµãËØïÂáΩÊï∞ÂíåÁ§∫‰æãÂáΩÊï∞„ÄÇ</p>
<div class="table-wrapper"><table>
  <thead>
      <tr>
          <th style="text-align: left">Á±ªÂûã</th>
          <th style="text-align: left">Ê†ºÂºè</th>
          <th style="text-align: left">‰ΩúÁî®</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: left">ÊµãËØïÂáΩÊï∞</td>
          <td style="text-align: left">ÂáΩÊï∞Âêç<strong>ÂâçÁºÄ</strong>‰∏∫ Test</td>
          <td style="text-align: left">ÊµãËØïÁ®ãÂ∫èÁöÑ‰∏Ä‰∫õÈÄªËæëË°å‰∏∫ÊòØÂê¶Ê≠£Á°Æ</td>
      </tr>
      <tr>
          <td style="text-align: left">Âü∫ÂáÜÂáΩÊï∞</td>
          <td style="text-align: left">ÂáΩÊï∞ÂêçÂâçÁºÄ‰∏∫ Benchmark</td>
          <td style="text-align: left">ÊµãËØïÂáΩÊï∞ÁöÑÊÄßËÉΩ</td>
      </tr>
      <tr>
          <td style="text-align: left">Á§∫‰æãÂáΩÊï∞</td>
          <td style="text-align: left">ÂáΩÊï∞ÂêçÂâçÁºÄ‰∏∫ Example</td>
          <td style="text-align: left">‰∏∫ÊñáÊ°£Êèê‰æõÁ§∫‰æãÊñáÊ°£</td>
      </tr>
  </tbody>
</table></div>
<p>Golang ÂçïÂÖÉÊµãËØïÂØπÊñá‰ª∂ÂêçÂíåÊñπÊ≥ïÂêçÔºåÂèÇÊï∞ÈÉΩÊúâÂæà‰∏•Ê†ºÁöÑË¶ÅÊ±Ç„ÄÇ</p>
<ul>
<li>
<p>Êñá‰ª∂ÂêçÂøÖÈ°ª‰ª•<code>xx_test.go</code>ÂëΩÂêç</p>
</li>
<li>
<p>ÊñπÊ≥ïÂøÖÈ°ªÊòØ<code>Test[^a-z]</code>ÂºÄÂ§¥</p>
</li>
<li>
<p>ÊñπÊ≥ïÂèÇÊï∞ÂøÖÈ°ª<code> t *testing.T</code></p>
</li>
<li>
<p>‰ΩøÁî®go testÊâßË°åÂçïÂÖÉÊµãËØï</p>
</li>
</ul>
<h4 id="go-testÂèÇÊï∞">go testÂèÇÊï∞
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">go <span class="nb">test</span> <span class="o">[</span>-c<span class="o">]</span> <span class="o">[</span>-i<span class="o">]</span> <span class="o">[</span>build flags<span class="o">]</span> <span class="o">[</span>packages<span class="o">]</span> <span class="o">[</span>flags <span class="k">for</span> <span class="nb">test</span> binary<span class="o">]</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="c1">// split/split.go
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">split</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;strings&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// split package with a single split function.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="c1">// Split slices s into all substrings separated by sep and
</span></span></span><span class="line"><span class="cl"><span class="c1">// returns a slice of the substrings between those separators.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="nf">Split</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span> <span class="nx">sep</span> <span class="kt">string</span><span class="p">)</span> <span class="p">(</span><span class="nx">result</span> <span class="p">[]</span><span class="kt">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">i</span> <span class="o">:=</span> <span class="nx">strings</span><span class="p">.</span><span class="nf">Index</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span> <span class="nx">sep</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="nx">i</span> <span class="p">&gt;</span> <span class="o">-</span><span class="mi">1</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">result</span> <span class="p">=</span> <span class="nb">append</span><span class="p">(</span><span class="nx">result</span><span class="p">,</span> <span class="nx">s</span><span class="p">[:</span><span class="nx">i</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">        <span class="nx">s</span> <span class="p">=</span> <span class="nx">s</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span><span class="mi">1</span><span class="p">:]</span>
</span></span><span class="line"><span class="cl">        <span class="nx">i</span> <span class="p">=</span> <span class="nx">strings</span><span class="p">.</span><span class="nf">Index</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span> <span class="nx">sep</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="nx">result</span> <span class="p">=</span> <span class="nb">append</span><span class="p">(</span><span class="nx">result</span><span class="p">,</span> <span class="nx">s</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Âú®ÂΩìÂâçÁõÆÂΩï‰∏ãÔºåÊàë‰ª¨ÂàõÂª∫‰∏Ä‰∏™ split_test.go ÁöÑÊµãËØïÊñá‰ª∂ÔºåÂπ∂ÂÆö‰πâ‰∏Ä‰∏™ÊµãËØïÂáΩÊï∞Â¶Ç‰∏ãÔºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="c1">// split/split_test.go
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">split</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;reflect&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;testing&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">TestSplit</span><span class="p">(</span><span class="nx">t</span> <span class="o">*</span><span class="nx">testing</span><span class="p">.</span><span class="nx">T</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// ÊµãËØïÂáΩÊï∞ÂêçÂøÖÈ°ª‰ª•TestÂºÄÂ§¥ÔºåÂøÖÈ°ªÊé•Êî∂‰∏Ä‰∏™*testing.TÁ±ªÂûãÂèÇÊï∞
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">got</span> <span class="o">:=</span> <span class="nf">Split</span><span class="p">(</span><span class="s">&#34;a:b:c&#34;</span><span class="p">,</span> <span class="s">&#34;:&#34;</span><span class="p">)</span>         <span class="c1">// Á®ãÂ∫èËæìÂá∫ÁöÑÁªìÊûú
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">want</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">&#34;a&#34;</span><span class="p">,</span> <span class="s">&#34;b&#34;</span><span class="p">,</span> <span class="s">&#34;c&#34;</span><span class="p">}</span>    <span class="c1">// ÊúüÊúõÁöÑÁªìÊûú
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">if</span> <span class="p">!</span><span class="nx">reflect</span><span class="p">.</span><span class="nf">DeepEqual</span><span class="p">(</span><span class="nx">want</span><span class="p">,</span> <span class="nx">got</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// Âõ†‰∏∫slice‰∏çËÉΩÊØîËæÉÁõ¥Êé•ÔºåÂÄüÂä©ÂèçÂ∞ÑÂåÖ‰∏≠ÁöÑÊñπÊ≥ïÊØîËæÉ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">t</span><span class="p">.</span><span class="nf">Errorf</span><span class="p">(</span><span class="s">&#34;excepted:%v, got:%v&#34;</span><span class="p">,</span> <span class="nx">want</span><span class="p">,</span> <span class="nx">got</span><span class="p">)</span> <span class="c1">// ÊµãËØïÂ§±Ë¥•ËæìÂá∫ÈîôËØØÊèêÁ§∫
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ÊµãËØïÁªìÊûú</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ go <span class="nb">test</span>
</span></span><span class="line"><span class="cl">PASS
</span></span><span class="line"><span class="cl">ok      main/ttt        0.002s
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="log">log
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h3 id="os">OS
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="c1">// Â¶ÇÊûúÊñá‰ª∂Â∑≤Â≠òÂú®‰ºöÊà™Êñ≠ÂÆÉÔºà‰∏∫Á©∫Êñá‰ª∂Ôºâ„ÄÇÂ¶ÇÊûúÊàêÂäüÔºåËøîÂõûÁöÑÊñá‰ª∂ÂØπË±°ÂèØÁî®‰∫é I/OÔºõ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="nf">Create</span><span class="p">(</span><span class="nx">name</span> <span class="kt">string</span><span class="p">)</span> <span class="p">(</span><span class="nx">file</span> <span class="o">*</span><span class="nx">File</span><span class="p">,</span> <span class="nx">err</span> <span class="kt">error</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">Open</span><span class="p">(</span><span class="nx">name</span> <span class="kt">string</span><span class="p">)</span> <span class="p">(</span><span class="nx">file</span> <span class="o">*</span><span class="nx">File</span><span class="p">,</span> <span class="nx">err</span> <span class="kt">error</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">Rename</span><span class="p">(</span><span class="nx">oldpath</span><span class="p">,</span> <span class="nx">newpath</span> <span class="kt">string</span><span class="p">)</span> <span class="kt">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="io">IO
</h3><h4 id="1reader">1„ÄÅReader
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">Reader</span> <span class="kd">interface</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nf">Read</span><span class="p">(</span><span class="nx">p</span> <span class="p">[]</span><span class="kt">byte</span><span class="p">)</span> <span class="p">(</span><span class="nx">n</span> <span class="kt">int</span><span class="p">,</span> <span class="nx">err</span> <span class="kt">error</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Reader ÊòØÂåÖË£ÖÂü∫Êú¨ Read ÊñπÊ≥ïÁöÑÊé•Âè£„ÄÇ</p>
<p>Read ÊúÄÂ§öÂ∞Ü len (p) ‰∏™Â≠óËäÇËØªÂÖ• p„ÄÇÂÆÉËøîÂõûËØªÂèñÁöÑÂ≠óËäÇÊï∞ (0 &lt;= n &lt;= len (p)) ÂíåÈÅáÂà∞ÁöÑÈîôËØØ„ÄÇÂç≥‰Ωø Read ËøîÂõû n &lt; len (p)ÔºåÂÆÉ‰πüÂèØËÉΩÂú®Ë∞ÉÁî®ÊúüÈó¥‰ΩøÁî®ÊâÄÊúâ p ‰Ωú‰∏∫ÊöÇÂ≠òÁ©∫Èó¥„ÄÇ</p>
<p>Â¶ÇÊûúÊúâ‰∏Ä‰∫õÊï∞ÊçÆÂèØÁî®Ôºå‰ΩÜÈïøÂ∫¶‰∏ç‰∏∫ len (p) ÔºåÂàô Read ÈÄöÂ∏∏‰ºöËøîÂõûÂèØÁî®ÁöÑÊï∞ÊçÆÔºåËÄå‰∏çÊòØÁ≠âÂæÖÊõ¥Â§öÊï∞ÊçÆ„ÄÇ</p>
<p>ÂΩì Read ÈÅáÂà∞ÈîôËØØÔºåÊàñËÄÖÂú®ÊàêÂäüËØªÂèñ n &gt; 0 ‰∏™Â≠óËäÇÂêéÔºåÈÅáÂà∞ end-of-file Êù°‰ª∂Êó∂ÔºåËøîÂõûËØªÂèñÁöÑÂ≠óËäÇÊï∞„ÄÇÂÆÉÂèØËÉΩ‰ºö‰ªéÂêå‰∏ÄÊ¨°Ë∞ÉÁî®‰∏≠ËøîÂõûÔºàÈùûÁ©∫ÔºâÈîôËØØÔºåÊàñËÄÖ‰ªéÂêéÁª≠Ë∞ÉÁî®‰∏≠ËøîÂõûÈîôËØØÔºàÂπ∂‰∏î n == 0Ôºâ„ÄÇ
ËøôÁßçÊÉÖÂÜµ‰∏Ä‰∏™‰æãÂ≠êÊòØÔºöReader Âú®ËØªÂèñÂà∞ËæìÂÖ•ÊµÅÊú´Â∞æÊó∂ÔºåËøîÂõû‰∏Ä‰∏™ÈùûÈõ∂ÁöÑÂ≠óËäÇÊï∞ÔºåÂπ∂ËøîÂõû err == EOF ÊàñËÄÖ err == nil„ÄÇ‰∏ã‰∏ÄÊ¨°ËØªÂèñÂ∫îËØ•ËøîÂõû 0ÔºåEOF„ÄÇ</p>
<p>Âú®ËÄÉËôëÈîôËØØÈîôËØØ‰πãÂâçÔºåË∞ÉÁî®ËÄÖÂ∫îÂßãÁªàÂ§ÑÁêÜËøîÂõûÁöÑ n &gt; 0 Â≠óËäÇ„ÄÇËøôÊ†∑ÂÅöÂèØ‰ª•Ê≠£Á°ÆÂ§ÑÁêÜËØªÂèñÊüê‰∫õÂ≠óËäÇÂêéÂèëÁîüÁöÑ I/O ÈîôËØØ‰ª•ÂèäÂÖÅËÆ∏ÁöÑ EOF Ë°å‰∏∫„ÄÇ</p>
<p>ÂØπ‰∫é Read ÁöÑÂÆûÁé∞Ôºå‰∏çÈºìÂä±ÂêåÊó∂ËøîÂõûÈõ∂Â≠óËäÇËÆ°Êï∞Âíå nil ÈîôËØØÔºåÈô§Èùû len (p) == 0„ÄÇ
Ë∞ÉÁî®ËÄÖÂ∫îÂ∞ÜËøîÂõû 0 Âíå nil ËßÜ‰∏∫Ë°®Á§∫Ê≤°ÊúâÂèëÁîü‰ªª‰Ωï‰∫ãÊÉÖÔºõÁâπÂà´ÊòØÂÆÉ‰∏çË°®Á§∫ EOF„ÄÇ</p>
<p>ÂÆûÁé∞‰∏çÂæóÊåÅÊúâ p„ÄÇ</p>
<h4 id="2writer">2„ÄÅWriter
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">Writer</span> <span class="kd">interface</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nf">Write</span><span class="p">(</span><span class="nx">p</span> <span class="p">[]</span><span class="kt">byte</span><span class="p">)</span> <span class="p">(</span><span class="nx">n</span> <span class="kt">int</span><span class="p">,</span> <span class="nx">err</span> <span class="kt">error</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Writer ÊòØÂ∞ÅË£Ö‰∫ÜÂü∫Êú¨ Write ÊñπÊ≥ïÁöÑÊé•Âè£„ÄÇ</p>
<p>Write Â∞Ü len (p) ‰∏™Â≠óËäÇ‰ªé p ÂÜôÂÖ•Â∫ïÂ±ÇÊï∞ÊçÆÊµÅ„ÄÇ
ÂÆÉËøîÂõû‰ªé p (0 &lt;= n &lt;= len (p)) ÂÜôÂÖ•ÁöÑÂ≠óËäÇÊï∞Ôºå‰ª•ÂèäÈÅáÂà∞ÁöÑ‰ªª‰ΩïÂØºËá¥ÂÜôÂÖ•ÊèêÂâçÂÅúÊ≠¢ÁöÑÈîôËØØ„ÄÇ
Â¶ÇÊûúËøîÂõû n &lt;len (p)ÔºåÂàôÂÜôÂÖ•ÂøÖÈ°ªËøîÂõûÈùûÈõ∂ÈîôËØØ„ÄÇ
ÂÜôÂÖ•‰∏çËÉΩ‰øÆÊîπÂàáÁâáÊï∞ÊçÆÔºåÂç≥‰ΩøÊòØ‰∏¥Êó∂ÁöÑ„ÄÇ</p>
<p>ÂÆûÁé∞‰∏çÂæó‰øùÁïô p„ÄÇ</p>
<h4 id="3closer">3„ÄÅCloser
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">Closer</span> <span class="kd">interface</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nf">Close</span><span class="p">()</span> <span class="kt">error</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Closer ÊòØÂ∞ÅË£Ö‰∫ÜÂü∫Êú¨ Close ÊñπÊ≥ïÁöÑÊé•Âè£„ÄÇ</p>
<p>Á¨¨‰∏ÄÊ¨°Ë∞ÉÁî® Close ÂêéÁöÑË°å‰∏∫Êú™ÂÆö‰πâ„ÄÇ
ÂÖ∑‰ΩìÂÆûÁé∞ÁöÑË°å‰∏∫ÂèØ‰ª•Êü•ÁúãÊñáÊ°£„ÄÇ</p>
<h4 id="4seeker">4„ÄÅSeeker
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">Seeker</span> <span class="kd">interface</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nf">Seek</span><span class="p">(</span><span class="nx">offset</span> <span class="kt">int64</span><span class="p">,</span> <span class="nx">whence</span> <span class="kt">int</span><span class="p">)</span> <span class="p">(</span><span class="kt">int64</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Seeker ÊòØÂ∞ÅË£Ö‰∫ÜÂü∫Êú¨ Seek ÊñπÊ≥ïÁöÑÊé•Âè£„ÄÇ</p>
<p>Seek Â∞Ü‰∏ã‰∏ÄÊ¨°ËØªÂèñÊàñÂÜôÂÖ•ÁöÑÂÅèÁßªÈáèËÆæÁΩÆ‰∏∫ÂÅèÁßªÈáèÔºåÊ†πÊçÆ <code>wherece</code> ËøõË°åËß£ÈáäÔºö</p>
<ul>
<li><code>SeekStart</code> Ë°®Á§∫Áõ∏ÂØπ‰∫éÊñá‰ª∂ÁöÑÂºÄÂ§¥Ôºå</li>
<li><code>SeekCurrent</code> Ë°®Á§∫Áõ∏ÂØπ‰∫éÂΩìÂâçÂÅèÁßªÈáèÔºåÂπ∂‰∏î</li>
<li><code>SeekEnd</code> Ë°®Á§∫Áõ∏ÂØπ‰∫éÁªàÁÇπÔºà‰æãÂ¶ÇÔºåoffset = -2 ÊåáÂÆöÊñá‰ª∂ÁöÑÂÄíÊï∞Á¨¨‰∫å‰∏™Â≠óËäÇÔºâ„ÄÇ</li>
</ul>
<p>Seek ËøîÂõûÁõ∏ÂØπ‰∫éÊñá‰ª∂ÂºÄÂ§¥ÁöÑÊñ∞ÂÅèÁßªÈáèÊàñÈîôËØØÔºàÂ¶ÇÊûúÊúâÔºâ„ÄÇ</p>
<p>Seek Âà∞ÂºÄÂßã‰πãÂâçÁöÑÂÅèÁßªÈáèÊòØÈîôËØØÁöÑ„ÄÇ
ÂèØ‰ª•ÂÖÅËÆ∏ Seek ‰ªª‰ΩïÊ≠£ÂÅèÁßªÈáèÔºå‰ΩÜÂ¶ÇÊûúÊñ∞ÂÅèÁßªÈáèË∂ÖËøáÂ∫ïÂ±ÇÂØπË±°ÁöÑÂ§ßÂ∞èÔºåÂàôÂêéÁª≠ I/O Êìç‰ΩúÁöÑË°å‰∏∫ÂèñÂÜ≥‰∫éÂÆûÁé∞„ÄÇ</p>
<h3 id="bufio">bufio
</h3><p>bufio ÊòØ Go ËØ≠Ë®ÄÊ†áÂáÜÂ∫ì‰∏≠Áî®‰∫éÁºìÂ≠ò I/O ÁöÑÂåÖ„ÄÇÂΩìÁ®ãÂ∫èÈ¢ëÁπÅËøõË°å I/O ËØªÂÜôÊìç‰ΩúÊó∂Ôºå‰ΩøÁî® bufio ÂåÖÂèØ‰ª•ÂáèÂ∞ëÁ≥ªÁªüË∞ÉÁî®Ê¨°Êï∞ÔºåÂ§ßÂ§ßÊèêÈ´òÁ®ãÂ∫èÊÄßËÉΩ„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="c1">// NewReader ÂàõÂª∫‰∏Ä‰∏™ÂÖ∑ÊúâÈªòËÆ§Â§ßÂ∞èÁºìÂÜ≤„ÄÅ‰ªé r ËØªÂèñÁöÑ * Reader„ÄÇNewReader Áõ∏ÂΩì‰∫é NewReaderSize (rd, 4096)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="nf">NewReader</span><span class="p">(</span><span class="nx">rd</span> <span class="nx">io</span><span class="p">.</span><span class="nx">Reader</span><span class="p">)</span> <span class="o">*</span><span class="nx">Reader</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// NewReaderSize ÂàõÂª∫‰∏Ä‰∏™ÂÖ∑ÊúâÊúÄÂ∞ëÊúâ size Â∞∫ÂØ∏ÁöÑÁºìÂÜ≤„ÄÅ‰ªé r ËØªÂèñÁöÑ Reader„ÄÇÂ¶ÇÊûúÂèÇÊï∞ r Â∑≤ÁªèÊòØ‰∏Ä‰∏™ÂÖ∑ÊúâË∂≥Â§üÂ§ßÁºìÂÜ≤ÁöÑ Reader Á±ªÂûãÂÄºÔºå‰ºöËøîÂõû r„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="nf">NewReaderSize</span><span class="p">(</span><span class="nx">rd</span> <span class="nx">io</span><span class="p">.</span><span class="nx">Reader</span><span class="p">,</span> <span class="nx">size</span> <span class="kt">int</span><span class="p">)</span> <span class="o">*</span><span class="nx">Reader</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Reset ‰∏¢ÂºÉÁºìÂÜ≤‰∏≠ÁöÑÊï∞ÊçÆÔºåÊ∏ÖÈô§‰ªª‰ΩïÈîôËØØÔºåÂ∞Ü b ÈáçËÆæ‰∏∫ÂÖ∂‰∏ãÂ±Ç‰ªé r ËØªÂèñÊï∞ÊçÆ„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="p">(</span><span class="nx">b</span> <span class="o">*</span><span class="nx">Reader</span><span class="p">)</span> <span class="nf">Reset</span><span class="p">(</span><span class="nx">r</span> <span class="nx">io</span><span class="p">.</span><span class="nx">Reader</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Buffered ËøîÂõûÁºìÂÜ≤‰∏≠Áé∞ÊúâÁöÑÂèØËØªÂèñÁöÑÂ≠óËäÇÊï∞„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="p">(</span><span class="nx">b</span> <span class="o">*</span><span class="nx">Reader</span><span class="p">)</span> <span class="nf">Buffered</span><span class="p">()</span> <span class="kt">int</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ËøîÂõûËæìÂÖ•ÊµÅÁöÑ‰∏ã n ‰∏™Â≠óËäÇ, ËÄå‰∏ç‰ºöÁßªÂä®ËØªÂèñ‰ΩçÁΩÆ„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="p">(</span><span class="nx">b</span> <span class="o">*</span><span class="nx">Reader</span><span class="p">)</span> <span class="nf">Peek</span><span class="p">(</span><span class="nx">n</span> <span class="kt">int</span><span class="p">)</span> <span class="p">([]</span><span class="kt">byte</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="string">string
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="c1">// strings.NewReader() ÂèØ‰ª•Êñπ‰æøÂú∞Â∞Ü‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ËΩ¨Êç¢‰∏∫ÂÆûÁé∞‰∫Ü io.Reader Êé•Âè£ÁöÑËØªÂèñÂô®
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="nf">NewReader</span><span class="p">(</span><span class="nx">s</span> <span class="kt">string</span><span class="p">)</span> <span class="o">*</span><span class="nx">Reader</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="gorm">GORM
</h3><p><strong>ORMÔºàÂØπË±°ÂÖ≥Á≥ªÊò†Â∞ÑÔºâÊ°Ü</strong>Êû∂ÊòØ‰∏ÄÁßçËΩØ‰ª∂Â∑•ÂÖ∑ÔºåÁî®‰∫éÂú®Èù¢Âêë<strong>ÂØπË±°ÁºñÁ®ãËØ≠Ë®ÄÂíåÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ì</strong>‰πãÈó¥Âª∫Á´ã<strong>Êò†Â∞Ñ</strong>ÂÖ≥Á≥ª„ÄÇÂÆÉÊèê‰æõ‰∫Ü‰∏ÄÁßçÂ∞ÜÊï∞ÊçÆÂ∫ìË°®Ê†ºÁöÑÊï∞ÊçÆÊò†Â∞ÑÂà∞Èù¢ÂêëÂØπË±°ÁºñÁ®ãËØ≠Ë®Ä‰∏≠ÁöÑÂØπË±°ÁöÑÊñπÊ≥ïÔºå‰ΩøÂæóÂºÄÂèë‰∫∫ÂëòÂèØ‰ª•‰ΩøÁî®Èù¢ÂêëÂØπË±°ÁöÑÊñπÂºèÊù•Êìç‰ΩúÊï∞ÊçÆÂ∫ì„ÄÇ</p>
<p>ORM Ê°ÜÊû∂ÁöÑ‰∏ªË¶ÅÁõÆÊ†áÊòØËß£ÂÜ≥ÂØπË±°Ê®°Âûã‰∏éÂÖ≥Á≥ªÊï∞ÊçÆÂ∫ì‰πãÈó¥ÁöÑ‰∏çÂåπÈÖçÈóÆÈ¢ò„ÄÇÂú®‰º†ÁªüÁöÑÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ì‰∏≠ÔºåÊï∞ÊçÆÊòØ‰ª•Ë°®Ê†ºÁöÑÂΩ¢ÂºèËøõË°åÁªÑÁªáÂíåÂ≠òÂÇ®ÁöÑÔºåËÄåÂú®Èù¢ÂêëÂØπË±°ÁºñÁ®ãËØ≠Ë®Ä‰∏≠ÔºåÊï∞ÊçÆÊòØ‰ª•ÂØπË±°ÁöÑÂΩ¢ÂºèË°®Á§∫ÁöÑ„ÄÇORM Ê°ÜÊû∂ÈÄöËøáËá™Âä®Â∞ÜÂØπË±°ËΩ¨Êç¢‰∏∫Êï∞ÊçÆÂ∫ì‰∏≠ÁöÑË°®Ê†º‰ª•ÂèäË°®Ê†º‰∏≠ÁöÑË°åÂíåÂàóËΩ¨Êç¢‰∏∫ÂØπË±°ÁöÑÂ±ûÊÄßÂíåÂÖ≥Á≥ªÔºåÂÆûÁé∞‰∫ÜÈù¢ÂêëÂØπË±°ÁºñÁ®ãËØ≠Ë®ÄÂíåÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ì‰πãÈó¥ÁöÑÊó†ÁºùÈõÜÊàê„ÄÇ</p>
<p>ORM Ê°ÜÊû∂ÈÄöÂ∏∏Êèê‰æõ‰∫Ü‰∏ÄÁªÑ API ÂíåÂ∑•ÂÖ∑ÔºåÁî®‰∫éÊâßË°å‰ª•‰∏ã‰ªªÂä°Ôºö</p>
<ol>
<li>ÂØπË±°ÂÖ≥Á≥ªÊò†Â∞ÑÔºöÂ∞ÜÊï∞ÊçÆÂ∫ìË°®Ê†ºÁöÑÊï∞ÊçÆÊò†Â∞ÑÂà∞Èù¢ÂêëÂØπË±°ÁºñÁ®ãËØ≠Ë®Ä‰∏≠ÁöÑÂØπË±°ÔºåÂπ∂Â∞ÜÂØπË±°ÁöÑÂ±ûÊÄßÂíåÂÖ≥Á≥ªÊò†Â∞ÑÂà∞Êï∞ÊçÆÂ∫ìÁöÑÂàóÂíåË°å„ÄÇ</li>
<li>Êï∞ÊçÆÂ∫ìÊìç‰ΩúÔºöÊèê‰æõ‰∫Ü‰∏ÄÁªÑÁÆÄÂåñÁöÑÊñπÊ≥ïÊù•ÊâßË°åÂ∏∏ËßÅÁöÑÊï∞ÊçÆÂ∫ìÊìç‰ΩúÔºåÂ¶ÇÊèíÂÖ•„ÄÅÊõ¥Êñ∞„ÄÅÂà†Èô§ÂíåÊü•ËØ¢Êï∞ÊçÆ„ÄÇ</li>
<li>Êï∞ÊçÆÂ∫ì‰∫ãÂä°ÁÆ°ÁêÜÔºöÊîØÊåÅ‰∫ãÂä°Êìç‰ΩúÔºåÁ°Æ‰øùÊï∞ÊçÆÂ∫ìÊìç‰ΩúÁöÑ‰∏ÄËá¥ÊÄßÂíåÂÆåÊï¥ÊÄß„ÄÇ</li>
<li>Êü•ËØ¢ËØ≠Ë®ÄÔºöÊèê‰æõ‰∫Ü‰∏ÄÁßçÁ±ª‰ºº‰∫éÁºñÁ®ãËØ≠Ë®ÄÁöÑÊé•Âè£ÔºåÁî®‰∫éÊåáÂÆöÂíåÊâßË°åÂ§çÊùÇÁöÑÊï∞ÊçÆÂ∫ìÊü•ËØ¢„ÄÇ</li>
<li>ÁºìÂ≠òÁÆ°ÁêÜÔºöÊèê‰æõ‰∫ÜÁºìÂ≠òÊú∫Âà∂Ôºå‰ª•ÂáèÂ∞ëÂØπÊï∞ÊçÆÂ∫ìÁöÑÈ¢ëÁπÅËÆøÈóÆÔºåÂπ∂ÊèêÈ´òÊÄßËÉΩ„ÄÇ</li>
<li>Êï∞ÊçÆÂ∫ìËøÅÁßªÔºöÁÆÄÂåñÊï∞ÊçÆÂ∫ìÁªìÊûÑÁöÑÂèòÊõ¥ÂíåËøÅÁßªÊìç‰ΩúÔºå‰øùËØÅÊï∞ÊçÆÁöÑ‰∏ÄËá¥ÊÄßÂíåÊó†ÁºùÂçáÁ∫ß„ÄÇ</li>
</ol>
<p><a class="link" href="https://gorm.cn/zh_CN/docs/models.html"  target="_blank" rel="noopener"
    >Ê®°ÂûãÂÆö‰πâ | GORM - The fantastic ORM library for Golang, aims to be developer friendly.</a></p>
<p><a class="link" href="https://blog.csdn.net/yoyogu/article/details/109318626"  target="_blank" rel="noopener"
    >go ËØ≠Ë®Ä gorm Âü∫Êú¨‰ΩøÁî®_go gorm_Âê´ÂÖâÂêõÔΩûÁöÑÂçöÂÆ¢ - CSDN ÂçöÂÆ¢</a></p>
<ul>
<li>Gorm‰ΩøÁî®Âêç‰∏∫<code>ID</code>ÁöÑÂ≠óÊÆµ‰Ωú‰∏∫‰∏ªÈîÆ</li>
<li>GORM ÊîØÊåÅ MySQLSQLServer„ÄÅ PostgreSQLSQLite.</li>
</ul>
<h4 id="demo">demo
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">  <span class="s">&#34;gorm.io/driver/mysql&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="s">&#34;gorm.io/gorm&#34;</span>
</span></span><span class="line"><span class="cl">   <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;os&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">User</span> <span class="kd">struct</span> <span class="p">{</span> <span class="c1">// ÈªòËÆ§Ë°®ÂêçÊòØ`users`
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">gorm</span><span class="p">.</span><span class="nx">Model</span>
</span></span><span class="line"><span class="cl">  <span class="nx">Name</span> <span class="kt">string</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// refer https://github.com/go-sql-driver/mysql#dsn-data-source-name for details
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>   <span class="nx">dsn</span> <span class="o">:=</span> <span class="nx">fmt</span><span class="p">.</span><span class="nf">Sprintf</span><span class="p">(</span><span class="s">&#34;%s:%s@tcp(%s:%s)/%s?charset=utf8mb4&amp;parseTime=True&amp;loc=Local&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">os</span><span class="p">.</span><span class="nf">Getenv</span><span class="p">(</span><span class="s">&#34;MYSQL_USER&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">		<span class="nx">os</span><span class="p">.</span><span class="nf">Getenv</span><span class="p">(</span><span class="s">&#34;MYSQL_PASSWORD&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">		<span class="nx">os</span><span class="p">.</span><span class="nf">Getenv</span><span class="p">(</span><span class="s">&#34;MYSQL_HOST&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">		<span class="nx">os</span><span class="p">.</span><span class="nf">Getenv</span><span class="p">(</span><span class="s">&#34;MYSQL_PORT&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">		<span class="c1">// conf.UserName,
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="c1">// conf.Password,
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="c1">// conf.Url,
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="c1">// conf.Port,
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="nx">conf</span><span class="p">.</span><span class="nx">DBName</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	<span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ÂàõÂª∫‰∫Ü‰∏Ä‰∏™Êñ∞ÁöÑ gorm.Config ÂØπË±°ÔºåÂπ∂Â∞ÜÂÖ∂‰Ωú‰∏∫ÂèÇÊï∞‰º†ÈÄíÁªô Open ÂáΩÊï∞
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">db</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">gorm</span><span class="p">.</span><span class="nf">Open</span><span class="p">(</span><span class="nx">mysql</span><span class="p">.</span><span class="nf">Open</span><span class="p">(</span><span class="nx">dsn</span><span class="p">),</span> <span class="o">&amp;</span><span class="nx">gorm</span><span class="p">.</span><span class="nx">Config</span><span class="p">{})</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nb">panic</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Ëá™Âä®ËøÅÁßª
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">db</span><span class="p">.</span><span class="nf">AutoMigrate</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">User</span><span class="p">{})</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// ÂàõÂª∫
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">db</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">User</span><span class="p">{</span><span class="nx">Name</span><span class="p">:</span> <span class="s">&#34;Âº†‰∏â&#34;</span><span class="p">})</span>
</span></span><span class="line"><span class="cl">   
</span></span><span class="line"><span class="cl">    <span class="c1">// Êü•ËØ¢
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">res</span> <span class="o">:=</span> <span class="nx">User</span><span class="p">{}</span>
</span></span><span class="line"><span class="cl">    <span class="nx">db</span><span class="p">.</span><span class="nf">Where</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">User</span><span class="p">{</span><span class="nx">Name</span><span class="p">:</span> <span class="s">&#34;Âº†‰∏â&#34;</span><span class="p">}).</span><span class="nf">First</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">res</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// ‰∏ç‰∏∫ Â≠óÁ¨¶‰∏≤
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">db</span><span class="p">.</span><span class="nf">Where</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">models</span><span class="p">.</span><span class="nx">User</span><span class="p">{</span><span class="nx">UserId</span><span class="p">:</span><span class="mi">17</span><span class="p">}).</span><span class="nf">First</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">user</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nx">db</span><span class="p">.</span><span class="nf">Where</span><span class="p">(</span><span class="s">&#34;user_id=?&#34;</span><span class="p">,</span> <span class="mi">18</span><span class="p">).</span><span class="nf">First</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">user</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nx">db</span><span class="p">.</span><span class="nf">Find</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">res</span><span class="p">,</span> <span class="s">&#34;hobby=?&#34;</span><span class="p">,</span> <span class="s">&#34;Ë∂≥ÁêÉ&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// ÊâπÈáèÊü•ËØ¢
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kd">var</span> <span class="nx">list</span> <span class="p">=</span> <span class="nb">make</span><span class="p">([]</span><span class="nx">User</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nx">models</span><span class="p">.</span><span class="nx">SqlSession</span><span class="p">.</span><span class="nf">Where</span><span class="p">(</span><span class="s">&#34;user_id&lt;?&#34;</span><span class="p">,</span> <span class="mi">18</span><span class="p">).</span><span class="nf">Find</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">list</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;%+v&#34;</span><span class="p">,</span> <span class="nx">list</span><span class="p">)</span> <span class="c1">// ËæìÂá∫‰∫Ü1~17
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// ÂçïÂàó‰øÆÊîπ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// ËØ•ÂàóÂêç‰∏çÂ≠òÂú®ÔºåÈÇ£‰πà GORM Â∞Ü‰∏ç‰ºöÊâßË°å‰ªª‰ΩïÊìç‰ΩúÔºå‰πü‰∏ç‰ºöËøîÂõû‰ªª‰ΩïÈîôËØØ„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">db</span><span class="p">.</span><span class="nf">Model</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">User</span><span class="p">{}).</span><span class="nf">Where</span><span class="p">(</span><span class="s">&#34;user_id = ?&#34;</span><span class="p">,</span> <span class="mi">17</span><span class="p">).</span><span class="nf">Update</span><span class="p">(</span><span class="s">&#34;name&#34;</span><span class="p">,</span> <span class="s">&#34;changed&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// Close
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">sqlDB</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">db</span><span class="p">.</span><span class="nf">DB</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="nx">sqlDB</span><span class="p">.</span><span class="nf">Close</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="ÂÆö‰πâÊï∞ÊçÆÁ±ªÂûã">ÂÆö‰πâÊï∞ÊçÆÁ±ªÂûã
</h4><div class="table-wrapper"><table>
  <thead>
      <tr>
          <th style="text-align: left">Â≠óÊÆµ</th>
          <th style="text-align: left">Ëß£Èáä</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: left">autoIncrement</td>
          <td style="text-align: left">ÊåáÂÆöÂàó‰∏∫Ëá™Âä®Â¢ûÈïø</td>
      </tr>
      <tr>
          <td style="text-align: left">primaryKey</td>
          <td style="text-align: left">Â∞ÜÂàóÂÆö‰πâ‰∏∫‰∏ªÈîÆ</td>
      </tr>
      <tr>
          <td style="text-align: left">unique</td>
          <td style="text-align: left">Â∞ÜÂàóÂÆö‰πâ‰∏∫ÂîØ‰∏ÄÈîÆ</td>
      </tr>
      <tr>
          <td style="text-align: left">default</td>
          <td style="text-align: left">ÂÆö‰πâÂàóÁöÑÈªòËÆ§ÂÄº</td>
      </tr>
      <tr>
          <td style="text-align: left">not null</td>
          <td style="text-align: left">ÊåáÂÆöÂàó‰∏∫ NOT NULL</td>
      </tr>
      <tr>
          <td style="text-align: left">autoCreateTime</td>
          <td style="text-align: left">ÂàõÂª∫Êó∂ËøΩË∏™ÂΩìÂâçÊó∂Èó¥ÔºåÂØπ‰∫é <code>int</code> Â≠óÊÆµÔºåÂÆÉ‰ºöËøΩË∏™Êó∂Èó¥Êà≥ÁßíÊï∞ÔºåÊÇ®ÂèØ‰ª•‰ΩøÁî® <code>nano</code>/<code>milli</code> Êù•ËøΩË∏™Á∫≥Áßí„ÄÅÊØ´ÁßíÊó∂Èó¥Êà≥Ôºå‰æãÂ¶ÇÔºö<code>autoCreateTime:nano</code></td>
      </tr>
      <tr>
          <td style="text-align: left">autoUpdateTime</td>
          <td style="text-align: left">ÂàõÂª∫ / Êõ¥Êñ∞Êó∂ËøΩË∏™ÂΩìÂâçÊó∂Èó¥ÔºåÂØπ‰∫é <code>int</code> Â≠óÊÆµÔºåÂÆÉ‰ºöËøΩË∏™Êó∂Èó¥Êà≥ÁßíÊï∞ÔºåÊÇ®ÂèØ‰ª•‰ΩøÁî® <code>nano</code>/<code>milli</code> Êù•ËøΩË∏™Á∫≥Áßí„ÄÅÊØ´ÁßíÊó∂Èó¥Êà≥Ôºå‰æãÂ¶ÇÔºö<code>autoUpdateTime:milli</code></td>
      </tr>
  </tbody>
</table></div>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="c1">// ÂÜÖÈÉ®ÂÆö‰πâÁ±ªÂûã, Áõ¥Êé•ÂºïÁî®Â∞±Â•Ω
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">type</span> <span class="nx">Model</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">ID</span>        <span class="kt">uint</span>           <span class="s">`gorm:&#34;primaryKey&#34;`</span>
</span></span><span class="line"><span class="cl">  <span class="nx">CreatedAt</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Time</span>
</span></span><span class="line"><span class="cl">  <span class="nx">UpdatedAt</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Time</span>
</span></span><span class="line"><span class="cl">  <span class="nx">DeletedAt</span> <span class="nx">gorm</span><span class="p">.</span><span class="nx">DeletedAt</span> <span class="s">`gorm:&#34;index&#34;`</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ÂØπ‰∫éÂåøÂêçÂ≠óÊÆµÔºåGORM ‰ºöÂ∞ÜÂÖ∂Â≠óÊÆµÂåÖÂê´Âà∞ÂÖ∂Áà∂ÁªìÊûÑ‰∏≠
</span></span></span><span class="line"><span class="cl"><span class="c1">// Ë°®ÂêçÈªòËÆ§ÊòØÊ®°ÂûãÁöÑÂ§çÊï∞ÂΩ¢ÂºèÔºåÂàóÂêçÈªòËÆ§ÊòØÂ≠óÊÆµÂêçÁöÑÈ©ºÂ≥∞ÂΩ¢Âºè
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">type</span> <span class="nx">User</span> <span class="kd">struct</span> <span class="p">{</span> <span class="c1">// ÈªòËÆ§Ë°®ÂêçÊòØ`users`
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">gorm</span><span class="p">.</span><span class="nx">Model</span>
</span></span><span class="line"><span class="cl">  <span class="nx">Name</span> <span class="kt">string</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// equals
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">type</span> <span class="nx">User</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">ID</span>        <span class="kt">uint</span>           <span class="s">`gorm:&#34;primaryKey&#34;`</span>
</span></span><span class="line"><span class="cl">  <span class="nx">CreatedAt</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Time</span>
</span></span><span class="line"><span class="cl">  <span class="nx">UpdatedAt</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Time</span>
</span></span><span class="line"><span class="cl">  <span class="nx">DeletedAt</span> <span class="nx">gorm</span><span class="p">.</span><span class="nx">DeletedAt</span> <span class="s">`gorm:&#34;index&#34;`</span>
</span></span><span class="line"><span class="cl">  <span class="nx">Name</span> <span class="kt">string</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// default ÁöÑ‰ΩøÁî®
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">type</span> <span class="nx">User</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">ID</span>   <span class="kt">uint</span>    <span class="s">`gorm:&#34;not null;comment:&#39;Áî®Êà∑ID&#39;&#34;`</span>
</span></span><span class="line"><span class="cl">  <span class="nx">Name</span> <span class="kt">string</span>  <span class="s">`gorm:&#34;type:varchar(50);default:&#39;Âº†‰∏â&#39;;comment:&#39;ÂßìÂêç&#39;&#34;`</span>
</span></span><span class="line"><span class="cl">  <span class="nx">Age</span>  <span class="kt">int</span>     <span class="s">`gorm:&#34;default:&#39;18&#39;;comment:&#39;Âπ¥ÈæÑ&#39;&#34;`</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">User</span> <span class="kd">struct</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">UserId</span>     <span class="kt">int64</span> <span class="s">`gorm:&#34;primary_key&#34;`</span>
</span></span><span class="line"><span class="cl">    <span class="nx">Name</span>     <span class="kt">string</span>
</span></span><span class="line"><span class="cl">    <span class="nx">Password</span>    <span class="kt">string</span>
</span></span><span class="line"><span class="cl">    <span class="nx">signature</span>  <span class="kt">string</span>
</span></span><span class="line"><span class="cl">    <span class="nx">CreatedAt</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Time</span>  <span class="s">`gorm:&#34;default(autoCreateTime)&#34;`</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// DeleteAt time.Time
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="ËøûÊé•-ÂÖ≥Èó≠Êï∞ÊçÆÂ∫ì">ËøûÊé•/ ÂÖ≥Èó≠Êï∞ÊçÆÂ∫ì
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">  <span class="s">&#34;gorm.io/driver/mysql&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="s">&#34;gorm.io/gorm&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// refer https://github.com/go-sql-driver/mysql#dsn-data-source-name for details
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">dsn</span> <span class="o">:=</span> <span class="s">&#34;user:pass@tcp(127.0.0.1:3306)/dbname?charset=utf8mb4&amp;parseTime=True&amp;loc=Local&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ÂàõÂª∫‰∫Ü‰∏Ä‰∏™Êñ∞ÁöÑ gorm.Config ÂØπË±°ÔºåÂπ∂Â∞ÜÂÖ∂‰Ωú‰∏∫ÂèÇÊï∞‰º†ÈÄíÁªô Open ÂáΩÊï∞
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">db</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">gorm</span><span class="p">.</span><span class="nf">Open</span><span class="p">(</span><span class="nx">mysql</span><span class="p">.</span><span class="nf">Open</span><span class="p">(</span><span class="nx">dsn</span><span class="p">),</span> <span class="o">&amp;</span><span class="nx">gorm</span><span class="p">.</span><span class="nx">Config</span><span class="p">{})</span>
</span></span><span class="line"><span class="cl">   
</span></span><span class="line"><span class="cl">    <span class="c1">// Close
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  	<span class="nx">sqlDB</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">db</span><span class="p">.</span><span class="nf">DB</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="nx">sqlDB</span><span class="p">.</span><span class="nf">Close</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>‰ΩøÁî®ÁéØÂ¢ÉÂèòÈáèËøûÊé•Êï∞ÊçÆÂ∫ì</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;database/sql&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;log&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;os&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;strconv&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">_</span> <span class="s">&#34;github.com/go-sql-driver/mysql&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">db</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">sql</span><span class="p">.</span><span class="nf">Open</span><span class="p">(</span><span class="s">&#34;mysql&#34;</span><span class="p">,</span> <span class="nf">getConnectionString</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">log</span><span class="p">.</span><span class="nf">Fatal</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="k">defer</span> <span class="nx">db</span><span class="p">.</span><span class="nf">Close</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">err</span> <span class="p">=</span> <span class="nx">db</span><span class="p">.</span><span class="nf">Ping</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">log</span><span class="p">.</span><span class="nf">Fatal</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Connected to MySQL database!&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">getConnectionString</span><span class="p">()</span> <span class="kt">string</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">server</span> <span class="o">:=</span> <span class="nx">os</span><span class="p">.</span><span class="nf">Getenv</span><span class="p">(</span><span class="s">&#34;MYSQL_HOST&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">port</span> <span class="o">:=</span> <span class="nx">os</span><span class="p">.</span><span class="nf">Getenv</span><span class="p">(</span><span class="s">&#34;MYSQL_PORT&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">user</span> <span class="o">:=</span> <span class="nx">os</span><span class="p">.</span><span class="nf">Getenv</span><span class="p">(</span><span class="s">&#34;MYSQL_USER&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">password</span> <span class="o">:=</span> <span class="nx">os</span><span class="p">.</span><span class="nf">Getenv</span><span class="p">(</span><span class="s">&#34;MYSQL_PASSWORD&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">database</span> <span class="o">:=</span> <span class="s">&#34;mydatabase&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">portInt</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">strconv</span><span class="p">.</span><span class="nf">Atoi</span><span class="p">(</span><span class="nx">port</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">log</span><span class="p">.</span><span class="nf">Fatal</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="nx">fmt</span><span class="p">.</span><span class="nf">Sprintf</span><span class="p">(</span><span class="s">&#34;%s:%s@tcp(%s:%d)/%s&#34;</span><span class="p">,</span> <span class="nx">user</span><span class="p">,</span> <span class="nx">password</span><span class="p">,</span> <span class="nx">server</span><span class="p">,</span> <span class="nx">portInt</span><span class="p">,</span> <span class="nx">database</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">dsn</span> <span class="o">:=</span> <span class="nx">fmt</span><span class="p">.</span><span class="nf">Sprintf</span><span class="p">(</span><span class="s">&#34;%s:%s@tcp(%s:%s)/%s?charset=utf8mb4&amp;parseTime=True&amp;loc=Local&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">		<span class="nx">conf</span><span class="p">.</span><span class="nx">UserName</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">		<span class="nx">conf</span><span class="p">.</span><span class="nx">Password</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">		<span class="nx">conf</span><span class="p">.</span><span class="nx">Url</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">		<span class="nx">conf</span><span class="p">.</span><span class="nx">Port</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">		<span class="nx">conf</span><span class="p">.</span><span class="nx">DBName</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="ÂàõÂª∫">ÂàõÂª∫
</h4><ul>
<li>
<p>GORM Âú®ÂàõÂª∫ÂØπË±°Êó∂<strong>‰∏çÈúÄË¶ÅÊòæÂºè</strong>Âú∞ÊåáÂÆöË¶ÅÂ∞ÜÂÖ∂ÂàõÂª∫Âà∞Âì™Âº†Ë°®‰∏≠„ÄÇGORM ‰ºöÊ†πÊçÆÊÇ®ÂÆö‰πâÁöÑÊ®°ÂûãÁ±ªÂíåÊï∞ÊçÆÂ∫ìÁöÑÊò†Â∞ÑÂÖ≥Á≥ªÔºåËá™Âä®Á°ÆÂÆöË¶ÅÂàõÂª∫ÁöÑË°®ÂíåÂàó„ÄÇ</p>
<p>ÊÇ®Âè™ÈúÄË¶ÅÂÆö‰πâÊ®°ÂûãÁ±ªÔºåÂπ∂Âú®ÈúÄË¶ÅÊó∂Ë∞ÉÁî® Gorm ÁöÑÂàõÂª∫ÊñπÊ≥ïÂç≥ÂèØ„ÄÇGorm ‰ºöËá™Âä®Â§ÑÁêÜÊï∞ÊçÆÂ∫ìÊìç‰ΩúÔºåÂπ∂Á°Æ‰øùÂú®Êï∞ÊçÆÂ∫ì‰∏≠Ê≠£Á°ÆÂú∞ÂàõÂª∫ÂØπË±°„ÄÇ</p>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">user</span> <span class="o">:=</span> <span class="nx">User</span><span class="p">{</span><span class="nx">Name</span><span class="p">:</span> <span class="s">&#34;Jinzhu&#34;</span><span class="p">,</span> <span class="nx">Age</span><span class="p">:</span> <span class="mi">18</span><span class="p">,</span> <span class="nx">Birthday</span><span class="p">:</span> <span class="nx">time</span><span class="p">.</span><span class="nf">Now</span><span class="p">()}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">result</span> <span class="o">:=</span> <span class="nx">db</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">user</span><span class="p">)</span> <span class="c1">// pass pointer of data to Create
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="c1">// ÊâπÈáèÂ§ÑÁêÜÊï∞ÊçÆ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">users</span> <span class="o">:=</span> <span class="p">[]</span><span class="o">*</span><span class="nx">User</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">User</span><span class="p">{</span><span class="nx">Name</span><span class="p">:</span> <span class="s">&#34;Jinzhu&#34;</span><span class="p">,</span> <span class="nx">Age</span><span class="p">:</span> <span class="mi">18</span><span class="p">,</span> <span class="nx">Birthday</span><span class="p">:</span> <span class="nx">time</span><span class="p">.</span><span class="nf">Now</span><span class="p">()},</span>
</span></span><span class="line"><span class="cl">  <span class="nx">User</span><span class="p">{</span><span class="nx">Name</span><span class="p">:</span> <span class="s">&#34;Jackson&#34;</span><span class="p">,</span> <span class="nx">Age</span><span class="p">:</span> <span class="mi">19</span><span class="p">,</span> <span class="nx">Birthday</span><span class="p">:</span> <span class="nx">time</span><span class="p">.</span><span class="nf">Now</span><span class="p">()},</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">result</span> <span class="o">:=</span> <span class="nx">db</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="nx">users</span><span class="p">)</span> <span class="c1">// pass a slice to insert multiple row
</span></span></span><span class="line"><span class="cl"><span class="c1">// Â¶ÇÊûú users ‰∏≠ÁöÑ user Â∑≤ÁªèÂ≠òÂú®‰∫éÊï∞ÊçÆÂ∫ì‰∏≠ÔºåÂàô‰ºöËøîÂõû‰∏Ä‰∏™ÈîôËØØ„ÄÇÂÖ∑‰ΩìÁöÑÈîôËØØÁ±ªÂûãÂíåÈîôËØØ‰ø°ÊÅØÂèñÂÜ≥‰∫éÊâÄ‰ΩøÁî®ÁöÑ ORM Â∫ìÂíåÊï∞ÊçÆÂ∫ìÈ©±Âä®Á®ãÂ∫è„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">result</span><span class="p">.</span><span class="nx">Error</span>        <span class="c1">// returns error
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">result</span><span class="p">.</span><span class="nx">RowsAffected</span> <span class="c1">// returns inserted records count
</span></span></span></code></pre></td></tr></table>
</div>
</div><h4 id="ÁÆÄÂçïÊü•ËØ¢">ÁÆÄÂçïÊü•ËØ¢
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="c1">// ÂáΩÊï∞ÂéüÂûã
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">DB</span><span class="p">.</span><span class="nf">First</span><span class="p">(</span><span class="nx">dest</span> <span class="kd">interface</span><span class="p">{},</span> <span class="nx">conds</span> <span class="o">...</span><span class="kd">interface</span><span class="p">{})</span> <span class="kt">error</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Ëé∑ÂèñÁ¨¨‰∏ÄÊù°ËÆ∞ÂΩïÔºåÊåâ‰∏ªÈîÆÊéíÂ∫è
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">db</span><span class="p">.</span><span class="nf">First</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">user</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="k">select</span> <span class="o">*</span> <span class="nx">from</span> <span class="nx">users</span> <span class="nx">order</span> <span class="nx">by</span> <span class="nx">id</span> <span class="nx">limit</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="c1">// Ëé∑ÂèñÊúÄÂêé‰∏ÄÊù°ËÆ∞ÂΩïÔºåÊåâ‰∏ªÈîÆÊéíÂ∫è
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">db</span><span class="p">.</span><span class="nf">Last</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">user</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="k">select</span> <span class="o">*</span> <span class="nx">from</span> <span class="nx">users</span> <span class="nx">order</span> <span class="nx">by</span> <span class="nx">id</span> <span class="nx">desc</span> <span class="nx">limit</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="c1">// Ëé∑ÂèñÊâÄÊúâËÆ∞ÂΩï
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">db</span><span class="p">.</span><span class="nf">Find</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">user</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="k">select</span> <span class="o">*</span> <span class="nx">from</span> <span class="nx">users</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="c1">// GORM ÂÖÅËÆ∏ÈÄöËøáÂÜÖËÅîÊù°‰ª∂ÊåáÂÆö‰∏ªÈîÆÊù•Ê£ÄÁ¥¢ÂØπË±°Ôºå‰ΩÜÂè™ÊîØÊåÅÊï¥ÂΩ¢Êï∞ÂÄºÔºåÂõ†‰∏∫ string ÂèØËÉΩÂØºËá¥ SQL Ê≥®ÂÖ•„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="c1">// select * from users where id =10;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">db</span><span class="p">.</span><span class="nf">First</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">user</span><span class="p">,</span><span class="mi">10</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Â¶ÇÊûúË°®ÈáåÊ≤°ÊúâÊï∞ÊçÆÔºå‰ºöÊä•Èîô  result.ErrorËøîÂõû:ErrRecordNotFound,
</span></span></span><span class="line"><span class="cl"><span class="c1">// Ê£ÄÊü• ErrRecordNotFound ÈîôËØØ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">errors</span><span class="p">.</span><span class="nf">Is</span><span class="p">(</span><span class="nx">result</span><span class="p">.</span><span class="nx">Error</span><span class="p">,</span> <span class="nx">gorm</span><span class="p">.</span><span class="nx">ErrRecordNotFound</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="select-ËØ≠Âè•">select ËØ≠Âè•
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="c1">// select name, age from users;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">db</span><span class="p">.</span><span class="nf">Select</span><span class="p">(</span><span class="s">&#34;name&#34;</span><span class="p">,</span><span class="s">&#34;age&#34;</span><span class="p">).</span><span class="nf">Find</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">user</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">db</span><span class="p">.</span><span class="nf">Select</span><span class="p">([]</span><span class="kt">string</span><span class="p">{</span><span class="s">&#34;name&#34;</span><span class="p">,</span><span class="s">&#34;age&#34;</span><span class="p">}).</span><span class="nf">Find</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">user</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">db</span><span class="p">.</span><span class="nf">Table</span><span class="p">(</span><span class="s">&#34;users&#34;</span><span class="p">).</span><span class="nf">Select</span><span class="p">(</span><span class="s">&#34;COALESCE(age,?)&#34;</span><span class="p">,</span> <span class="mi">42</span><span class="p">).</span><span class="nf">Rows</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="nx">SELECT</span> <span class="nf">COALESCE</span><span class="p">(</span><span class="nx">age</span><span class="p">,</span><span class="err">&#39;</span><span class="mi">42</span><span class="err">&#39;</span><span class="p">)</span> <span class="nx">FROM</span> <span class="nx">users</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Struct
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">db</span><span class="p">.</span><span class="nf">Where</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">User</span><span class="p">{</span><span class="nx">Name</span><span class="p">:</span> <span class="s">&#34;jinzhu&#34;</span><span class="p">,</span> <span class="nx">Age</span><span class="p">:</span> <span class="mi">20</span><span class="p">}).</span><span class="nf">First</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">user</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1">// SELECT * FROM users WHERE name = &#34;jinzhu&#34; AND age = 20 ORDER BY id LIMIT 1;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="c1">// Map
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">db</span><span class="p">.</span><span class="nf">Where</span><span class="p">(</span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{}{</span><span class="s">&#34;name&#34;</span><span class="p">:</span> <span class="s">&#34;jinzhu&#34;</span><span class="p">,</span> <span class="s">&#34;age&#34;</span><span class="p">:</span> <span class="mi">20</span><span class="p">}).</span><span class="nf">Find</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">users</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1">// SELECT * FROM users WHERE name = &#34;jinzhu&#34; AND age = 20;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="c1">// ‰∏ªÈîÆÂàáÁâáÊù°‰ª∂
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">db</span><span class="p">.</span><span class="nf">Where</span><span class="p">([]</span><span class="kt">int64</span><span class="p">{</span><span class="mi">20</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="mi">22</span><span class="p">}).</span><span class="nf">Find</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">users</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1">// SELECT * FROM users WHERE id IN (20, 21, 22);
</span></span></span></code></pre></td></tr></table>
</div>
</div><h4 id="ËøîÂõûÂ§öÊù°ËÆ∞ÂΩï">ËøîÂõûÂ§öÊù°ËÆ∞ÂΩï
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">userList</span> <span class="p">[]</span><span class="nx">gorme</span><span class="p">.</span><span class="nx">User</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ÊåáÈíàÊü•ËØ¢Â≠óÊÆµ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">result</span> <span class="o">:=</span> <span class="nx">mysqlClient</span><span class="p">.</span><span class="nf">Select</span><span class="p">(</span><span class="s">&#34;id&#34;</span><span class="p">,</span> <span class="s">&#34;nick_name&#34;</span><span class="p">).</span><span class="nf">Find</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">userList</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">user</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">userList</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;id: %d nick_name: %s \n&#34;</span><span class="p">,</span> <span class="nx">user</span><span class="p">.</span><span class="nx">ID</span><span class="p">,</span> <span class="nx">user</span><span class="p">.</span><span class="nx">NickName</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="Êõ¥Êñ∞">Êõ¥Êñ∞
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">db</span> <span class="o">*</span><span class="nx">DB</span><span class="p">)</span> <span class="nf">Update</span><span class="p">(</span><span class="nx">column</span> <span class="kt">string</span><span class="p">,</span> <span class="nx">value</span> <span class="kd">interface</span><span class="p">{})</span> <span class="p">(</span><span class="nx">tx</span> <span class="o">*</span><span class="nx">DB</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Êù°‰ª∂Êõ¥Êñ∞
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">db</span><span class="p">.</span><span class="nf">Model</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">User</span><span class="p">{}).</span><span class="nf">Where</span><span class="p">(</span><span class="s">&#34;active = ?&#34;</span><span class="p">,</span> <span class="kc">true</span><span class="p">).</span><span class="nf">Update</span><span class="p">(</span><span class="s">&#34;name&#34;</span><span class="p">,</span> <span class="s">&#34;hello&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1">// UPDATE users SET name=&#39;hello&#39;, updated_at=&#39;2013-11-17 21:34:10&#39; WHERE active=true;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="c1">// User ÁöÑ ID ÊòØ `111`
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">db</span><span class="p">.</span><span class="nf">Model</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">user</span><span class="p">).</span><span class="nf">Update</span><span class="p">(</span><span class="s">&#34;name&#34;</span><span class="p">,</span> <span class="s">&#34;hello&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1">// UPDATE users SET name=&#39;hello&#39;, updated_at=&#39;2013-11-17 21:34:10&#39; WHERE id=111;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="c1">// Ê†πÊçÆÊù°‰ª∂Âíå model ÁöÑÂÄºËøõË°åÊõ¥Êñ∞
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">db</span><span class="p">.</span><span class="nf">Model</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">user</span><span class="p">).</span><span class="nf">Where</span><span class="p">(</span><span class="s">&#34;active = ?&#34;</span><span class="p">,</span> <span class="kc">true</span><span class="p">).</span><span class="nf">Update</span><span class="p">(</span><span class="s">&#34;name&#34;</span><span class="p">,</span> <span class="s">&#34;hello&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1">// UPDATE users SET name=&#39;hello&#39;, updated_at=&#39;2013-11-17 21:34:10&#39; WHERE id=111 AND active=true;
</span></span></span></code></pre></td></tr></table>
</div>
</div><h4 id="‰∏çÂ≠òÂú®ÂàôÂàõÂª∫">‰∏çÂ≠òÂú®ÂàôÂàõÂª∫
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">db</span><span class="p">.</span><span class="nf">FirstOrCreate</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">user</span><span class="p">,</span> <span class="nx">User</span><span class="p">{</span><span class="nx">Name</span><span class="p">:</span> <span class="s">&#34;John Doe&#34;</span><span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="net-http">net/ http
</h3><p><a class="link" href="http://www.topgoer.com/%e5%b8%b8%e7%94%a8%e6%a0%87%e5%87%86%e5%ba%93/http.html"  target="_blank" rel="noopener"
    >Http„ÉªGo ËØ≠Ë®Ä‰∏≠ÊñáÊñáÊ°£ (topgoer.com)</a></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;net/http&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">Hello</span><span class="p">(</span><span class="nx">w</span> <span class="nx">http</span><span class="p">.</span><span class="nx">ResponseWriter</span><span class="p">,</span> <span class="nx">r</span> <span class="o">*</span><span class="nx">http</span><span class="p">.</span><span class="nx">Request</span><span class="p">)</span>  <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;handle hello&#34;</span><span class="p">)</span>	<span class="c1">// ÊúçÂä°Á´ØÊâìÂç∞ËæìÂá∫
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Fprintf</span><span class="p">(</span><span class="nx">w</span><span class="p">,</span> <span class="s">&#34;hello GoLangWEB&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">login</span><span class="p">(</span><span class="nx">w</span> <span class="nx">http</span><span class="p">.</span><span class="nx">ResponseWriter</span><span class="p">,</span> <span class="nx">r</span> <span class="o">*</span><span class="nx">http</span><span class="p">.</span><span class="nx">Request</span><span class="p">)</span>  <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;handle login&#34;</span><span class="p">)</span>	<span class="c1">// ÊúçÂä°Á´ØÊâìÂç∞ËæìÂá∫
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Fprintf</span><span class="p">(</span><span class="nx">w</span><span class="p">,</span> <span class="s">&#34;login...&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">http</span><span class="p">.</span><span class="nf">HandleFunc</span><span class="p">(</span><span class="s">&#34;/&#34;</span><span class="p">,</span> <span class="nx">Hello</span><span class="p">)</span>		<span class="c1">// ÂåπÈÖçÊ†πË∑ØÁî±
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">http</span><span class="p">.</span><span class="nf">HandleFunc</span><span class="p">(</span><span class="s">&#34;/login&#34;</span><span class="p">,</span> <span class="nx">login</span><span class="p">)</span>		<span class="c1">// ÂåπÈÖçÊ†πË∑ØÁî±/login
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">err</span> <span class="o">:=</span> <span class="nx">http</span><span class="p">.</span><span class="nf">ListenAndServe</span><span class="p">(</span><span class="s">&#34;0.0.0.0:8080&#34;</span><span class="p">,</span> <span class="kc">nil</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;http listen failed&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="ÂÆ¢Êà∑Á´ØÊñπÊ≥ï">ÂÆ¢Êà∑Á´ØÊñπÊ≥ï
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">resp</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">http</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="s">&#34;http://5lmh.com/&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1">// Á®ãÂ∫èÂú®‰ΩøÁî®ÂÆå response ÂêéÂøÖÈ°ªÂÖ≥Èó≠ÂõûÂ§çÁöÑ‰∏ª‰Ωì„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// handle error
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="k">defer</span> <span class="nx">resp</span><span class="p">.</span><span class="nx">Body</span><span class="p">.</span><span class="nf">Close</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="o">...</span>
</span></span><span class="line"><span class="cl"><span class="nx">resp</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">http</span><span class="p">.</span><span class="nf">Post</span><span class="p">(</span><span class="s">&#34;http://5lmh.com/upload&#34;</span><span class="p">,</span> <span class="s">&#34;image/jpeg&#34;</span><span class="p">,</span> <span class="o">&amp;</span><span class="nx">buf</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="o">...</span>
</span></span><span class="line"><span class="cl"><span class="nx">resp</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">http</span><span class="p">.</span><span class="nf">PostForm</span><span class="p">(</span><span class="s">&#34;http://5lmh.com/form&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">url</span><span class="p">.</span><span class="nx">Values</span><span class="p">{</span><span class="s">&#34;key&#34;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#34;Value&#34;</span><span class="p">},</span> <span class="s">&#34;id&#34;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#34;123&#34;</span><span class="p">}})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">body</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">ioutil</span><span class="p">.</span><span class="nf">ReadAll</span><span class="p">(</span><span class="nx">resp</span><span class="p">.</span><span class="nx">Body</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ...
</span></span></span></code></pre></td></tr></table>
</div>
</div><h4 id="ÂÆ¢Êà∑Á´ØÂèÇÊï∞--neturl">ÂÆ¢Êà∑Á´ØÂèÇÊï∞  net/url
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">ParseRequestURI</span><span class="p">(</span><span class="nx">requestURI</span> <span class="kt">string</span><span class="p">)</span> <span class="p">(</span><span class="o">*</span><span class="nx">url</span><span class="p">.</span><span class="nx">URL</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1">// requestURI ÊòØË¶ÅËß£ÊûêÁöÑ URL ËØ∑Ê±Ç URIÔºåËÄåËøîÂõûÂÄºÊòØ‰∏Ä‰∏™ÊåáÂêë url.URL ÁªìÊûÑ‰ΩìÁöÑÊåáÈíà
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">URL</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="nx">Scheme</span> <span class="kt">string</span> <span class="c1">// ÂçèËÆÆÔºå‰æãÂ¶Ç &#34;http&#34;„ÄÅ&#34;https&#34; Á≠â
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">Opaque</span> <span class="kt">string</span> <span class="c1">// ‰∏çÈÄèÊòéÈÉ®ÂàÜÔºåÁî®‰∫éÂ≠òÂÇ®‰∏çÈÄèÊòéÊï∞ÊçÆÔºå‰æãÂ¶Ç &#34;//example.com/path&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">User</span>     <span class="kt">string</span> <span class="c1">// Áî®Êà∑ÂêçÔºå‰æãÂ¶Ç &#34;user&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">Password</span> <span class="kt">string</span> <span class="c1">// ÂØÜÁ†ÅÔºå‰æãÂ¶Ç &#34;passwd&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">Host</span>     <span class="kt">string</span> <span class="c1">// ÂüüÂêçÊàñ IP Âú∞ÂùÄÔºå‰æãÂ¶Ç &#34;example.com&#34; Êàñ &#34;127.0.0.1&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">port</span>     <span class="kt">string</span> <span class="c1">// Á´ØÂè£Âè∑Ôºå‰æãÂ¶Ç &#34;8080&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">path</span>     <span class="kt">string</span> <span class="c1">// Ë∑ØÂæÑÔºå‰æãÂ¶Ç &#34;/path/to/file.html&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">query</span>    <span class="kt">string</span> <span class="c1">// Êü•ËØ¢Â≠óÁ¨¶‰∏≤Ôºå‰æãÂ¶Ç &#34;key1=value1&amp;key2=value2&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">fragment</span> <span class="kt">string</span> <span class="c1">// ÁâáÊÆµÊ†áËØÜÁ¨¶Ôºå‰æãÂ¶Ç &#34;#fragment&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="c1">// net/url Â§ÑÁêÜÂ∏¶ÂèÇÊï∞ÁöÑËØ∑Ê±Ç
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">apiUrl</span> <span class="o">:=</span> <span class="s">&#34;http://127.0.0.1:9090/get&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// URL param
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">data</span> <span class="o">:=</span> <span class="nx">url</span><span class="p">.</span><span class="nx">Values</span><span class="p">{}</span>
</span></span><span class="line"><span class="cl">    <span class="nx">data</span><span class="p">.</span><span class="nf">Set</span><span class="p">(</span><span class="s">&#34;name&#34;</span><span class="p">,</span> <span class="s">&#34;ÊûØËó§&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nx">data</span><span class="p">.</span><span class="nf">Set</span><span class="p">(</span><span class="s">&#34;age&#34;</span><span class="p">,</span> <span class="s">&#34;18&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nx">u</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">url</span><span class="p">.</span><span class="nf">ParseRequestURI</span><span class="p">(</span><span class="nx">apiUrl</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;parse url requestUrl failed,err:%v\n&#34;</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="nx">u</span><span class="p">.</span><span class="nx">RawQuery</span> <span class="p">=</span> <span class="nx">data</span><span class="p">.</span><span class="nf">Encode</span><span class="p">()</span> <span class="c1">// URL encode
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">u</span><span class="p">.</span><span class="nf">String</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">    <span class="nx">resp</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">http</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="nx">u</span><span class="p">.</span><span class="nf">String</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;post failed, err:%v\n&#34;</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">defer</span> <span class="nx">resp</span><span class="p">.</span><span class="nx">Body</span><span class="p">.</span><span class="nf">Close</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="nx">b</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">ioutil</span><span class="p">.</span><span class="nf">ReadAll</span><span class="p">(</span><span class="nx">resp</span><span class="p">.</span><span class="nx">Body</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;get resp failed,err:%v\n&#34;</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nb">string</span><span class="p">(</span><span class="nx">b</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="postÊñπÊ≥ï">postÊñπÊ≥ï
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;io/ioutil&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;net/http&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;strings&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// net/http post demo
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">url</span> <span class="o">:=</span> <span class="s">&#34;http://127.0.0.1:9090/post&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Ë°®ÂçïÊï∞ÊçÆ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">//contentType := &#34;application/x-www-form-urlencoded&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">//data := &#34;name=ÊûØËó§&amp;age=18&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// json
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">contentType</span> <span class="o">:=</span> <span class="s">&#34;application/json&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">data</span> <span class="o">:=</span> <span class="s">`{&#34;name&#34;:&#34;ÊûØËó§&#34;,&#34;age&#34;:18}`</span>
</span></span><span class="line"><span class="cl">    <span class="nx">resp</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">http</span><span class="p">.</span><span class="nf">Post</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">contentType</span><span class="p">,</span> <span class="nx">strings</span><span class="p">.</span><span class="nf">NewReader</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;post failed, err:%v\n&#34;</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">defer</span> <span class="nx">resp</span><span class="p">.</span><span class="nx">Body</span><span class="p">.</span><span class="nf">Close</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="nx">b</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">ioutil</span><span class="p">.</span><span class="nf">ReadAll</span><span class="p">(</span><span class="nx">resp</span><span class="p">.</span><span class="nx">Body</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;get resp failed,err:%v\n&#34;</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nb">string</span><span class="p">(</span><span class="nx">b</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="ÊúçÂä°Âô®Á´Ø">ÊúçÂä°Âô®Á´Ø
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="c1">// http server
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">sayHello</span><span class="p">(</span><span class="nx">w</span> <span class="nx">http</span><span class="p">.</span><span class="nx">ResponseWriter</span><span class="p">,</span> <span class="nx">r</span> <span class="o">*</span><span class="nx">http</span><span class="p">.</span><span class="nx">Request</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Fprintln</span><span class="p">(</span><span class="nx">w</span><span class="p">,</span> <span class="s">&#34;Hello ÊûØËó§ÔºÅ&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">http</span><span class="p">.</span><span class="nf">HandleFunc</span><span class="p">(</span><span class="s">&#34;/&#34;</span><span class="p">,</span> <span class="nx">sayHello</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nx">err</span> <span class="o">:=</span> <span class="nx">http</span><span class="p">.</span><span class="nf">ListenAndServe</span><span class="p">(</span><span class="s">&#34;:9090&#34;</span><span class="p">,</span> <span class="kc">nil</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;http server failed, err:%v\n&#34;</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="gin">gin
</h3><p><a class="link" href="http://www.topgoer.com/gin%E6%A1%86%E6%9E%B6"  target="_blank" rel="noopener"
    >ÂÆòÊñπÊñáÊ°£</a></p>
<p>Gin ÁöÑÂü∫Êú¨Êû∂ÊûÑÔºö</p>
<ul>
<li><strong>Router</strong>ÔºöÂÆÉÊòØ Gin Â∫îÁî®Á®ãÂ∫èÁöÑ<strong>Ê†∏ÂøÉÈÉ®ÂàÜ</strong>ÔºåÂÆÉÊé•Êî∂ HTTP ËØ∑Ê±ÇÂπ∂Ê†πÊçÆËØ∑Ê±ÇÁöÑË∑ØÂæÑÂíå HTTP ÊñπÊ≥ïÂ∞ÜÂÖ∂Ë∑ØÁî±Âà∞Ê≠£Á°ÆÁöÑÂ§ÑÁêÜÁ®ãÂ∫è„ÄÇ</li>
<li><strong>Handlers</strong>ÔºöÂÆÉÊòØ Gin Â∫îÁî®Á®ãÂ∫è‰∏≠ÁöÑ‰∏öÂä°ÈÄªËæë‰ª£Á†ÅÔºåÂÆÉÊé•Êî∂ HTTP ËØ∑Ê±ÇÂπ∂ËøîÂõû HTTP ÂìçÂ∫î„ÄÇ</li>
<li><strong>Middleware</strong>ÔºöÂÆÉÊòØÂú® HTTP ËØ∑Ê±ÇÂíåÂ§ÑÁêÜÁ®ãÂ∫è‰πãÈó¥ÂèëÁîüÁöÑ‰ª£Á†Å„ÄÇÂÆÉÂèØ‰ª•Áî®Êù•ÂÆåÊàê‰∏Ä‰∫õÂ∏∏ËßÅÁöÑÊìç‰ΩúÔºåÂ¶ÇË∫´‰ªΩÈ™åËØÅ„ÄÅÊó•ÂøóËÆ∞ÂΩï„ÄÅÂ§ÑÁêÜËØ∑Ê±ÇÁ≠â„ÄÇ</li>
</ul>
<h4 id="gincontext">gin.context
</h4><ul>
<li>Context ÊòØgin‰∏≠ÊúÄÈáçË¶ÅÁöÑÈÉ®ÂàÜ„ÄÇ ‰æãÂ¶ÇÔºåÂÆÉÂÖÅËÆ∏Êàë‰ª¨Âú®‰∏≠Èó¥‰ª∂‰πãÈó¥‰º†ÈÄíÂèòÈáè„ÄÅÁÆ°ÁêÜÊµÅÁ®ã„ÄÅÈ™åËØÅËØ∑Ê±ÇÁöÑ JSON Âπ∂ÂëàÁé∞ JSON ÂìçÂ∫î„ÄÇ</li>
<li>Context ‰∏≠Â∞ÅË£Ö‰∫ÜÂéüÁîüÁöÑ Go http  <strong>ËØ∑Ê±ÇÂíåÂìçÂ∫î</strong>ÂØπË±°ÔºåÂêåÊó∂ËøòÊèê‰æõ‰∫Ü‰∏Ä‰∫õÊñπÊ≥ïÔºåÁî®‰∫éËé∑ÂèñËØ∑Ê±ÇÂíåÂìçÂ∫îÁöÑ‰ø°ÊÅØ„ÄÅËÆæÁΩÆÂìçÂ∫îÂ§¥„ÄÅËÆæÁΩÆÂìçÂ∫îÁä∂ÊÄÅÁ†ÅÁ≠âÊìç‰Ωú„ÄÇ</li>
<li>Âú® Gin ‰∏≠ÔºåContext ÊòØÈÄöËøá‰∏≠Èó¥‰ª∂Êù•‰º†ÈÄíÁöÑ„ÄÇÂú®Â§ÑÁêÜ HTTPËØ∑Ê±Ç Êó∂ÔºåGin ‰ºö<strong>‰æùÊ¨°ÊâßË°åÊ≥®ÂÜåÁöÑ‰∏≠Èó¥‰ª∂</strong>ÔºåÊØè‰∏™‰∏≠Èó¥‰ª∂ÂèØ‰ª•ÂØπ Context ËøõË°å‰∏Ä‰∫õÊìç‰ΩúÔºåÁÑ∂ÂêéÂ∞Ü Context ‰º†ÈÄíÁªô‰∏ã‰∏Ä‰∏™‰∏≠Èó¥‰ª∂„ÄÇ</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">Context</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">writermem</span> <span class="nx">responseWriter</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Request</span>   <span class="o">*</span><span class="nx">http</span><span class="p">.</span><span class="nx">Request</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Writer</span>    <span class="nx">ResponseWriter</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">Params</span>   <span class="nx">Params</span>
</span></span><span class="line"><span class="cl">	<span class="nx">handlers</span> <span class="nx">HandlersChain</span>
</span></span><span class="line"><span class="cl">	<span class="nx">index</span>    <span class="kt">int8</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fullPath</span> <span class="kt">string</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">engine</span>       <span class="o">*</span><span class="nx">Engine</span>
</span></span><span class="line"><span class="cl">	<span class="nx">params</span>       <span class="o">*</span><span class="nx">Params</span>
</span></span><span class="line"><span class="cl">	<span class="nx">skippedNodes</span> <span class="o">*</span><span class="p">[]</span><span class="nx">skippedNode</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">// ËØ•‰∫íÊñ•ÈîÅ‰øùÊä§ÈîÆÊò†Â∞Ñ„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">mu</span> <span class="nx">sync</span><span class="p">.</span><span class="nx">RWMutex</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">// Keys ÊòØ‰∏ìÈó®Áî®‰∫éÊØè‰∏™ËØ∑Ê±Ç‰∏ä‰∏ãÊñáÁöÑÈîÆ/ÂÄºÂØπ„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">Keys</span> <span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="nx">any</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">// ÈîôËØØÊòØÈôÑÂä†Âà∞‰ΩøÁî®Ê≠§‰∏ä‰∏ãÊñáÁöÑÊâÄÊúâÂ§ÑÁêÜÁ®ãÂ∫è/‰∏≠Èó¥‰ª∂ÁöÑÈîôËØØÂàóË°®„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">Errors</span> <span class="nx">errorMsgs</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">// Â∑≤Êé•ÂèóÂÆö‰πâ‰∫ÜÁî®‰∫éÂÜÖÂÆπÂçèÂïÜÁöÑÊâãÂä®Êé•ÂèóÊ†ºÂºèÁöÑÂàóË°®„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">Accepted</span> <span class="p">[]</span><span class="kt">string</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">// queryCache ÁºìÂ≠ò c.Request.URL.Query() ÁöÑÊü•ËØ¢ÁªìÊûú„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">queryCache</span> <span class="nx">url</span><span class="p">.</span><span class="nx">Values</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">// formCache ÁºìÂ≠ò c.Request.PostFormÔºåÂÖ∂‰∏≠ÂåÖÂê´‰ªé POST„ÄÅPATCH Êàñ PUT Ê≠£ÊñáÂèÇÊï∞Ëß£ÊûêÁöÑË°®ÂçïÊï∞ÊçÆ„ÄÇ	
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">formCache</span> <span class="nx">url</span><span class="p">.</span><span class="nx">Values</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">// SameSite ÂÖÅËÆ∏ÊúçÂä°Âô®ÂÆö‰πâ cookie Â±ûÊÄßÔºå‰ªéËÄå‰ΩøÊµèËßàÂô®Êó†Ê≥ïÈöèË∑®Á´ôÁÇπËØ∑Ê±ÇÂèëÈÄÅÊ≠§ cookie„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">sameSite</span> <span class="nx">http</span><span class="p">.</span><span class="nx">SameSite</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>‰∏ãÈù¢ÊòØ Context Êèê‰æõÁöÑ‰∏Ä‰∫õÂ∏∏Áî®ÊñπÊ≥ïÔºö</p>
<ol>
<li>Context.Key ()ÔºöËé∑Âèñ‰∏ä‰∏ãÊñá‰∏≠ÁöÑÈîÆÂÄº„ÄÇ</li>
<li>Context.Get ()ÔºöËé∑Âèñ‰∏ä‰∏ãÊñá‰∏≠ÁöÑÂÄºÔºåÂ¶ÇÊûú‰∏çÂ≠òÂú®ÂàôËøîÂõûÈªòËÆ§ÂÄº„ÄÇ</li>
<li>Context.Set ()ÔºöËÆæÁΩÆ‰∏ä‰∏ãÊñá‰∏≠ÁöÑÂÄº„ÄÇ</li>
<li>Context.Map ()ÔºöËé∑Âèñ‰∏ä‰∏ãÊñá‰∏≠ÁöÑÊâÄÊúâÈîÆÂÄºÂØπ„ÄÇ</li>
<li>Context.PostForm ()ÔºöËé∑ÂèñËØ∑Ê±ÇÁöÑË°®ÂçïÊï∞ÊçÆ„ÄÇ</li>
<li>Context.Query ()ÔºöËé∑ÂèñËØ∑Ê±ÇÁöÑÊü•ËØ¢Â≠óÁ¨¶‰∏≤ÂèÇÊï∞„ÄÇ</li>
<li>Context.Param ()ÔºöËé∑ÂèñËØ∑Ê±ÇÁöÑË∑ØÂæÑÂèÇÊï∞„ÄÇ</li>
<li>Context.Cookie ()ÔºöËé∑ÂèñËØ∑Ê±ÇÁöÑ cookie„ÄÇ</li>
<li>Context.Redirect ()ÔºöÈáçÂÆöÂêëÂà∞ÊåáÂÆöÁöÑ URL„ÄÇ</li>
<li>Context.Render ()ÔºöÊ∏≤ÊüìÊ®°ÊùøÂπ∂ËøîÂõûÂìçÂ∫î„ÄÇ</li>
<li>Context.String ()Ôºö<strong>ËøîÂõû</strong>‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ÂìçÂ∫î„ÄÇ</li>
<li>Context.HTML ()ÔºöËøîÂõû‰∏Ä‰∏™ HTML ÂìçÂ∫î„ÄÇ</li>
<li>Context.JSON ()Ôºö<strong>ËøîÂõû</strong>‰∏Ä‰∏™ JSON ÂìçÂ∫î„ÄÇ</li>
<li>Context.XML ()ÔºöËøîÂõû‰∏Ä‰∏™ XML ÂìçÂ∫î„ÄÇ</li>
</ol>
<h4 id="Âø´ÈÄü‰ΩøÁî®">Âø´ÈÄü‰ΩøÁî®
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;github.com/gin-gonic/gin&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// ÂàõÂª∫‰∏Ä‰∏™GinË∑ØÁî±Âô®
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">r</span> <span class="o">:=</span> <span class="nx">gin</span><span class="p">.</span><span class="nf">Default</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">// ÂÆö‰πâË∑ØÁî±
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">r</span><span class="p">.</span><span class="nf">GET</span><span class="p">(</span><span class="s">&#34;/&#34;</span><span class="p">,</span> <span class="kd">func</span><span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">gin</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">c</span><span class="p">.</span><span class="nf">JSON</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="nx">gin</span><span class="p">.</span><span class="nx">H</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="s">&#34;message&#34;</span><span class="p">:</span> <span class="s">&#34;Hello World!&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="p">})</span>
</span></span><span class="line"><span class="cl">	<span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">r</span><span class="p">.</span><span class="nf">GET</span><span class="p">(</span><span class="s">&#34;/ping&#34;</span><span class="p">,</span> <span class="kd">func</span><span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">gin</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">c</span><span class="p">.</span><span class="nf">JSON</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="nx">gin</span><span class="p">.</span><span class="nx">H</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="s">&#34;message&#34;</span><span class="p">:</span> <span class="s">&#34;pong!&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="p">})</span>
</span></span><span class="line"><span class="cl">	<span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">r</span><span class="p">.</span><span class="nf">POST</span><span class="p">(</span><span class="s">&#34;/submit&#34;</span><span class="p">,</span> <span class="kd">func</span><span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">gin</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="kd">var</span> <span class="nx">json</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="nx">Name</span> <span class="kt">string</span> <span class="s">`json:&#34;name&#34;`</span>
</span></span><span class="line"><span class="cl">			<span class="nx">Email</span> <span class="kt">string</span> <span class="s">`json:&#34;email&#34;`</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">		<span class="k">if</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">c</span><span class="p">.</span><span class="nf">Bind</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">json</span><span class="p">);</span> <span class="nx">err</span> <span class="o">==</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="nx">c</span><span class="p">.</span><span class="nf">JSON</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="nx">gin</span><span class="p">.</span><span class="nx">H</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">				<span class="s">&#34;message&#34;</span><span class="p">:</span> <span class="s">&#34;JSON received&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">				<span class="s">&#34;name&#34;</span><span class="p">:</span>    <span class="nx">json</span><span class="p">.</span><span class="nx">Name</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">				<span class="s">&#34;email&#34;</span><span class="p">:</span>   <span class="nx">json</span><span class="p">.</span><span class="nx">Email</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">			<span class="p">})</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="nx">c</span><span class="p">.</span><span class="nf">JSON</span><span class="p">(</span><span class="mi">400</span><span class="p">,</span> <span class="nx">gin</span><span class="p">.</span><span class="nx">H</span><span class="p">{</span><span class="s">&#34;error&#34;</span><span class="p">:</span> <span class="nx">err</span><span class="p">.</span><span class="nf">Error</span><span class="p">()})</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">// ÂêØÂä®GinÂ∫îÁî®Á®ãÂ∫è
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">r</span><span class="p">.</span><span class="nf">Run</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="json">json
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">r</span> <span class="o">:=</span> <span class="nx">gin</span><span class="p">.</span><span class="nf">Default</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">r</span><span class="p">.</span><span class="nf">GET</span><span class="p">(</span><span class="s">&#34;/someJSON&#34;</span><span class="p">,</span> <span class="kd">func</span><span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">gin</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">data</span> <span class="o">:=</span> <span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{}{</span>
</span></span><span class="line"><span class="cl">			<span class="s">&#34;lang&#34;</span><span class="p">:</span> <span class="s">&#34;GOËØ≠Ë®Ä&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">			<span class="s">&#34;tag&#34;</span><span class="p">:</span>  <span class="s">&#34;&lt;br&gt;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">		<span class="c1">// ËæìÂá∫ : {&#34;lang&#34;:&#34;GO\u8bed\u8a00&#34;,&#34;tag&#34;:&#34;\u003cbr\u003e&#34;}
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="nx">c</span><span class="p">.</span><span class="nf">AsciiJSON</span><span class="p">(</span><span class="nx">http</span><span class="p">.</span><span class="nx">StatusOK</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">// ÁõëÂê¨Âπ∂Âú® 0.0.0.0:8080 ‰∏äÂêØÂä®ÊúçÂä°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">r</span><span class="p">.</span><span class="nf">Run</span><span class="p">(</span><span class="s">&#34;:8080&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="Ëé∑ÂèñÂèÇÊï∞">Ëé∑ÂèñÂèÇÊï∞
</h4><ul>
<li>ÂèØ‰ª•ÈÄöËøá Context ÁöÑ Param ÊñπÊ≥ïÊù•Ëé∑Âèñ API ÂèÇÊï∞</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;net/http&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;strings&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="s">&#34;github.com/gin-gonic/gin&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">r</span> <span class="o">:=</span> <span class="nx">gin</span><span class="p">.</span><span class="nf">Default</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="nx">r</span><span class="p">.</span><span class="nf">GET</span><span class="p">(</span><span class="s">&#34;/user/:name/*action&#34;</span><span class="p">,</span> <span class="kd">func</span><span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">gin</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">name</span> <span class="o">:=</span> <span class="nx">c</span><span class="p">.</span><span class="nf">Param</span><span class="p">(</span><span class="s">&#34;name&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="nx">action</span> <span class="o">:=</span> <span class="nx">c</span><span class="p">.</span><span class="nf">Param</span><span class="p">(</span><span class="s">&#34;action&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="c1">//Êà™Âèñ/
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">action</span> <span class="p">=</span> <span class="nx">strings</span><span class="p">.</span><span class="nf">Trim</span><span class="p">(</span><span class="nx">action</span><span class="p">,</span> <span class="s">&#34;/&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="nx">c</span><span class="p">.</span><span class="nf">String</span><span class="p">(</span><span class="nx">http</span><span class="p">.</span><span class="nx">StatusOK</span><span class="p">,</span> <span class="nx">name</span><span class="o">+</span><span class="s">&#34; is &#34;</span><span class="o">+</span><span class="nx">action</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="c1">//ÈªòËÆ§‰∏∫ÁõëÂê¨8080Á´ØÂè£
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">r</span><span class="p">.</span><span class="nf">Run</span><span class="p">(</span><span class="s">&#34;:8000&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ÂÖ∂‰∏≠ <code>:name</code> Âíå <code>*action</code> ÈÉΩÊòØ<strong>Âä®ÊÄÅÂèÇÊï∞</strong>„ÄÇÂΩìÂÆ¢Êà∑Á´ØÂêëÊúçÂä°Âô®ÂèëÈÄÅ <code>GET /user/Â∞èÊòé/list</code> ÁöÑËØ∑Ê±ÇÊó∂ÔºåÊúçÂä°Âô®Â∞ÜÂåπÈÖçÂà∞ËØ•Ë∑ØÁî±ÔºåÂπ∂Â∞Ü <code>Â∞èÊòé</code> Âíå <code>list</code> ‰∏§‰∏™ÂèÇÊï∞ÁöÑÂÄºÂàÜÂà´<strong>ËµãÂÄº</strong>Áªô <code>:name</code> Âíå <code>*action</code>„ÄÇ</p>
<p>Âú® Go ËØ≠Ë®ÄÁöÑË∑ØÁî±ÂåπÈÖç‰∏≠Ôºå<code>:</code> Âíå <code>*</code> Á¨¶Âè∑ÂÖ∑Êúâ<strong>‰∏çÂêåÁöÑÂê´‰πâ</strong>Ôºö</p>
<ul>
<li><code>:</code> Á¨¶Âè∑Ë°®Á§∫‰∏Ä‰∏™Âä®ÊÄÅÂèÇÊï∞ÔºåÂÆÉÂèØ‰ª•ÂåπÈÖç<strong>‰ªªÊÑèÈïøÂ∫¶</strong>ÁöÑÂ≠óÁ¨¶‰∏≤Ôºå<strong>ÂåÖÊã¨Á©∫Â≠óÁ¨¶‰∏≤</strong>„ÄÇ‰æãÂ¶ÇÔºå<code>r.GET(&quot;/user/:name&quot;)</code> Ë°®Á§∫‰∏Ä‰∏™Â§ÑÁêÜ <code>GET</code> ËØ∑Ê±ÇÁöÑË∑ØÁî±ÔºåÂÖ∂‰∏≠ <code>:name</code> ÊòØ‰∏Ä‰∏™Âä®ÊÄÅÂèÇÊï∞ÔºåÂÆÉÂèØ‰ª•ÂåπÈÖç‰ªªÊÑèÈïøÂ∫¶ÁöÑÂ≠óÁ¨¶‰∏≤ÔºåÂåÖÊã¨Á©∫Â≠óÁ¨¶‰∏≤„ÄÇ</li>
<li><code>*</code> Á¨¶Âè∑Ë°®Á§∫‰∏Ä‰∏™<strong>ÂèØÈÄâ</strong>ÁöÑÂä®ÊÄÅÂèÇÊï∞ÔºåÂÆÉÂèØ‰ª•ÂåπÈÖç‰ªªÊÑèÈïøÂ∫¶ÁöÑÂ≠óÁ¨¶‰∏≤Ôºå<strong>‰ΩÜ‰∏çËÉΩ‰∏∫Á©∫Â≠óÁ¨¶‰∏≤</strong>„ÄÇ‰æãÂ¶ÇÔºå<code>r.GET(&quot;/user/:name/*action&quot;)</code> Ë°®Á§∫‰∏Ä‰∏™Â§ÑÁêÜ <code>GET</code> ËØ∑Ê±ÇÁöÑË∑ØÁî±ÔºåÂÖ∂‰∏≠ <code>:name</code> ÊòØ‰∏Ä‰∏™Âä®ÊÄÅÂèÇÊï∞ÔºåËÄå <code>*action</code> ÊòØ‰∏Ä‰∏™ÂèØÈÄâÁöÑÂä®ÊÄÅÂèÇÊï∞„ÄÇÂΩìÂÆ¢Êà∑Á´ØÂêëÊúçÂä°Âô®ÂèëÈÄÅ <code>GET /user/Â∞èÊòé/list</code> ÁöÑËØ∑Ê±ÇÊó∂ÔºåÊúçÂä°Âô®Â∞ÜÂåπÈÖçÂà∞ËØ•Ë∑ØÁî±ÔºåÂπ∂Â∞Ü <code>Â∞èÊòé</code> Âíå <code>list</code> ‰∏§‰∏™ÂèÇÊï∞ÁöÑÂÄºÂàÜÂà´ËµãÂÄºÁªô <code>:name</code> Âíå <code>*action</code>„ÄÇ‰ΩÜÊòØÔºåÂ¶ÇÊûúÂÆ¢Êà∑Á´ØÂèëÈÄÅ <code>GET /user/Â∞èÊòé</code> ÁöÑËØ∑Ê±ÇÔºåÂàôÊúçÂä°Âô®Â∞ÜÊó†Ê≥ïÂåπÈÖçËØ•Ë∑ØÁî±ÔºåÂõ†‰∏∫ <code>*action</code> ÂèÇÊï∞‰∏çËÉΩ‰∏∫Á©∫Â≠óÁ¨¶‰∏≤„ÄÇ</li>
</ul>
<h4 id="Ë∑ØÁî±">Ë∑ØÁî±
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">   <span class="s">&#34;github.com/gin-gonic/gin&#34;</span>
</span></span><span class="line"><span class="cl">   <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ginÁöÑhelloWorld
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="c1">// 1.ÂàõÂª∫Ë∑ØÁî±
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>   <span class="c1">// ÈªòËÆ§‰ΩøÁî®‰∫Ü2‰∏™‰∏≠Èó¥‰ª∂Logger(), Recovery()
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>   <span class="nx">r</span> <span class="o">:=</span> <span class="nx">gin</span><span class="p">.</span><span class="nf">Default</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">   <span class="c1">// Ë∑ØÁî±ÁªÑ1 ÔºåÂ§ÑÁêÜGETËØ∑Ê±Ç
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>   <span class="nx">v1</span> <span class="o">:=</span> <span class="nx">r</span><span class="p">.</span><span class="nf">Group</span><span class="p">(</span><span class="s">&#34;/v1&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">   <span class="c1">// {} ÊòØ‰π¶ÂÜôËßÑËåÉ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>   <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">v1</span><span class="p">.</span><span class="nf">GET</span><span class="p">(</span><span class="s">&#34;/login&#34;</span><span class="p">,</span> <span class="nx">login</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="nx">v1</span><span class="p">.</span><span class="nf">GET</span><span class="p">(</span><span class="s">&#34;submit&#34;</span><span class="p">,</span> <span class="nx">submit</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">   <span class="p">}</span>
</span></span><span class="line"><span class="cl">   <span class="nx">v2</span> <span class="o">:=</span> <span class="nx">r</span><span class="p">.</span><span class="nf">Group</span><span class="p">(</span><span class="s">&#34;/v2&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">   <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">v2</span><span class="p">.</span><span class="nf">POST</span><span class="p">(</span><span class="s">&#34;/login&#34;</span><span class="p">,</span> <span class="nx">login</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="nx">v2</span><span class="p">.</span><span class="nf">POST</span><span class="p">(</span><span class="s">&#34;/submit&#34;</span><span class="p">,</span> <span class="nx">submit</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">   <span class="p">}</span>
</span></span><span class="line"><span class="cl">   <span class="nx">r</span><span class="p">.</span><span class="nf">Run</span><span class="p">(</span><span class="s">&#34;:8000&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">login</span><span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">gin</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="nx">name</span> <span class="o">:=</span> <span class="nx">c</span><span class="p">.</span><span class="nf">DefaultQuery</span><span class="p">(</span><span class="s">&#34;name&#34;</span><span class="p">,</span> <span class="s">&#34;jack&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">   <span class="nx">c</span><span class="p">.</span><span class="nf">String</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="nx">fmt</span><span class="p">.</span><span class="nf">Sprintf</span><span class="p">(</span><span class="s">&#34;hello %s\n&#34;</span><span class="p">,</span> <span class="nx">name</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">submit</span><span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">gin</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="nx">name</span> <span class="o">:=</span> <span class="nx">c</span><span class="p">.</span><span class="nf">DefaultQuery</span><span class="p">(</span><span class="s">&#34;name&#34;</span><span class="p">,</span> <span class="s">&#34;lily&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">   <span class="nx">c</span><span class="p">.</span><span class="nf">String</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="nx">fmt</span><span class="p">.</span><span class="nf">Sprintf</span><span class="p">(</span><span class="s">&#34;hello %s\n&#34;</span><span class="p">,</span> <span class="nx">name</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>GET <code>/user//res</code>ÊòØÂêàÊ≥ïÁöÑ‰πà</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">GET</span> <span class="o">/</span><span class="nx">user</span><span class="o">/</span> <span class="o">/</span><span class="nx">res</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Âõ†‰∏∫ <code>GET</code> ËØ∑Ê±ÇÁöÑË∑ØÂæÑ‰∏≠ÂåÖÂê´‰∫Ü‰∏§‰∏™ËøûÁª≠ÁöÑ <code>/</code> Á¨¶Âè∑ÔºåÊâÄ‰ª•ÂÆÉÂ∞ÜÂåπÈÖçÂà∞ <code>GET /user//res</code> Ëøô‰∏™Ë∑ØÁî±„ÄÇÂú®Ëøô‰∏™Ë∑ØÁî±‰∏≠Ôºå‰∏§‰∏™ <code>/</code> Á¨¶Âè∑‰πãÈó¥ÁöÑÈÉ®ÂàÜÊòØ‰∏Ä‰∏™ÂèØÈÄâÁöÑÂä®ÊÄÅÂèÇÊï∞ÔºåÂÆÉÂèØ‰ª•ÊòØ‰ªªÊÑèÈïøÂ∫¶ÁöÑÂ≠óÁ¨¶‰∏≤Ôºå‰ΩÜ‰∏çËÉΩ‰∏∫Á©∫Â≠óÁ¨¶‰∏≤„ÄÇÂõ†Ê≠§ÔºåÂ¶ÇÊûúÂÆ¢Êà∑Á´ØÂêëÊúçÂä°Âô®ÂèëÈÄÅ <code>GET /user//res</code> ÁöÑËØ∑Ê±ÇÔºåÂàôÊúçÂä°Âô®Â∞ÜÂåπÈÖçÂà∞ËØ•Ë∑ØÁî±ÔºåÂπ∂Â∞Ü <code>res</code> ÂèÇÊï∞ÁöÑÂÄºËµãÂÄºÁªôËØ•Âä®ÊÄÅÂèÇÊï∞„ÄÇ</p>
<h4 id="‰∏≠Èó¥‰ª∂">‰∏≠Èó¥‰ª∂
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;time&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="s">&#34;github.com/gin-gonic/gin&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ÂÆö‰πâ‰∏≠Èó¥
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="nf">MiddleWare</span><span class="p">()</span> <span class="nx">gin</span><span class="p">.</span><span class="nx">HandlerFunc</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="kd">func</span><span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">gin</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">t</span> <span class="o">:=</span> <span class="nx">time</span><span class="p">.</span><span class="nf">Now</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;‰∏≠Èó¥‰ª∂ÂºÄÂßãÊâßË°å‰∫Ü&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// ËÆæÁΩÆÂèòÈáèÂà∞ContextÁöÑkey‰∏≠ÔºåÂèØ‰ª•ÈÄöËøáGet()Âèñ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">c</span><span class="p">.</span><span class="nf">Set</span><span class="p">(</span><span class="s">&#34;request&#34;</span><span class="p">,</span> <span class="s">&#34;‰∏≠Èó¥‰ª∂&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// ÊâßË°åÂáΩÊï∞
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">c</span><span class="p">.</span><span class="nf">Next</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// ‰∏≠Èó¥‰ª∂ÊâßË°åÂÆåÂêéÁª≠ÁöÑ‰∏Ä‰∫õ‰∫ãÊÉÖ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">status</span> <span class="o">:=</span> <span class="nx">c</span><span class="p">.</span><span class="nx">Writer</span><span class="p">.</span><span class="nf">Status</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;‰∏≠Èó¥‰ª∂ÊâßË°åÂÆåÊØï&#34;</span><span class="p">,</span> <span class="nx">status</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="nx">t2</span> <span class="o">:=</span> <span class="nx">time</span><span class="p">.</span><span class="nf">Since</span><span class="p">(</span><span class="nx">t</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;time:&#34;</span><span class="p">,</span> <span class="nx">t2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// 1.ÂàõÂª∫Ë∑ØÁî±
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// ÈªòËÆ§‰ΩøÁî®‰∫Ü2‰∏™‰∏≠Èó¥‰ª∂Logger(), Recovery()
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">r</span> <span class="o">:=</span> <span class="nx">gin</span><span class="p">.</span><span class="nf">Default</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Ê≥®ÂÜå‰∏≠Èó¥‰ª∂
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">r</span><span class="p">.</span><span class="nf">Use</span><span class="p">(</span><span class="nf">MiddleWare</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// {}‰∏∫‰∫Ü‰ª£Á†ÅËßÑËåÉ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">r</span><span class="p">.</span><span class="nf">GET</span><span class="p">(</span><span class="s">&#34;/ce&#34;</span><span class="p">,</span> <span class="kd">func</span><span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">gin</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="c1">// ÂèñÂÄº
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">req</span><span class="p">,</span> <span class="nx">_</span> <span class="o">:=</span> <span class="nx">c</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="s">&#34;request&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;request:&#34;</span><span class="p">,</span> <span class="nx">req</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="c1">// È°µÈù¢Êé•Êî∂
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">c</span><span class="p">.</span><span class="nf">JSON</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="nx">gin</span><span class="p">.</span><span class="nx">H</span><span class="p">{</span><span class="s">&#34;request&#34;</span><span class="p">:</span> <span class="nx">req</span><span class="p">})</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="nx">r</span><span class="p">.</span><span class="nf">Run</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="Êó•Âøó">Êó•Âøó
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Á¶ÅÁî®ÊéßÂà∂Âè∞È¢úËâ≤ÔºåÂ∞ÜÊó•ÂøóÂÜôÂÖ•Êñá‰ª∂Êó∂‰∏çÈúÄË¶ÅÊéßÂà∂Âè∞È¢úËâ≤„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">gin</span><span class="p">.</span><span class="nf">DisableConsoleColor</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// ËÆ∞ÂΩïÂà∞Êñá‰ª∂„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">f</span><span class="p">,</span> <span class="nx">_</span> <span class="o">:=</span> <span class="nx">os</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="s">&#34;gin.log&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nx">gin</span><span class="p">.</span><span class="nx">DefaultWriter</span> <span class="p">=</span> <span class="nx">io</span><span class="p">.</span><span class="nf">MultiWriter</span><span class="p">(</span><span class="nx">f</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// Â¶ÇÊûúÈúÄË¶ÅÂêåÊó∂Â∞ÜÊó•ÂøóÂÜôÂÖ•Êñá‰ª∂ÂíåÊéßÂà∂Âè∞ÔºåËØ∑‰ΩøÁî®‰ª•‰∏ã‰ª£Á†Å„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// gin.DefaultWriter = io.MultiWriter(f, os.Stdout)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="nx">router</span> <span class="o">:=</span> <span class="nx">gin</span><span class="p">.</span><span class="nf">Default</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="nx">router</span><span class="p">.</span><span class="nf">GET</span><span class="p">(</span><span class="s">&#34;/ping&#34;</span><span class="p">,</span> <span class="kd">func</span><span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">gin</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">c</span><span class="p">.</span><span class="nf">String</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="s">&#34;pong&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nx">router</span><span class="p">.</span><span class="nf">Run</span><span class="p">(</span><span class="s">&#34;:8080&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="ÂõûÂ§ç">ÂõûÂ§ç
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="c1">// ÂõûÂ§ç json Â≠óÁ¨¶‰∏≤
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="nf">JSON</span><span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">Context</span><span class="p">,</span> <span class="nx">code</span> <span class="kt">int</span><span class="p">,</span> <span class="nx">obj</span> <span class="kd">interface</span><span class="p">{})</span> <span class="kt">error</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">c</span><span class="p">.</span><span class="nf">JSON</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{}{</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;message&#34;</span><span class="p">:</span> <span class="s">&#34;Hello, World!&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="gin-È°πÁõÆÁõÆÂΩïÁªìÊûÑ">gin È°πÁõÆÁõÆÂΩïÁªìÊûÑ
</h4><p>ÂÖ∂‰∏≠Ôºö</p>
<ul>
<li><strong>configs</strong> ÁõÆÂΩïÂåÖÂê´È°πÁõÆÁöÑÈÖçÁΩÆÊñá‰ª∂</li>
<li><strong>controllers</strong> ÁõÆÂΩïÂåÖÂê´<strong>ÊéßÂà∂Âô®</strong>Êñá‰ª∂</li>
<li><strong>middleware</strong> ÁõÆÂΩïÂåÖÂê´<strong>‰∏≠Èó¥‰ª∂</strong>Êñá‰ª∂</li>
<li><strong>models</strong> ÁõÆÂΩïÂåÖÂê´Ê®°ÂûãÔºàORMÔºâÊñá‰ª∂</li>
<li><strong>routes</strong> ÁõÆÂΩïÂåÖÂê´<strong>Ë∑ØÁî±</strong>Êñá‰ª∂</li>
<li><strong>services</strong> ÁõÆÂΩïÂåÖÂê´ÊúçÂä°Êñá‰ª∂</li>
<li><strong>utils</strong> ÁõÆÂΩïÂåÖÂê´Â§ö‰∏™Â∑•ÂÖ∑Êñá‰ª∂</li>
<li><strong>main.go</strong> ÊòØÈ°πÁõÆÁöÑÂÖ•Âè£Êñá‰ª∂Ôºå<code>README.md</code> ÊòØÈ°πÁõÆÁöÑ‰ªãÁªçÊñá‰ª∂„ÄÇ</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">‚îú‚îÄ‚îÄ configs
</span></span><span class="line"><span class="cl">‚îÇ   ‚îú‚îÄ‚îÄ config.yaml
</span></span><span class="line"><span class="cl">‚îÇ   ‚îî‚îÄ‚îÄ db.yaml
</span></span><span class="line"><span class="cl">‚îú‚îÄ‚îÄ controllers
</span></span><span class="line"><span class="cl">‚îÇ   ‚îú‚îÄ‚îÄ auth_controller.go
</span></span><span class="line"><span class="cl">‚îÇ   ‚îî‚îÄ‚îÄ user_controller.go
</span></span><span class="line"><span class="cl">‚îú‚îÄ‚îÄ middleware
</span></span><span class="line"><span class="cl">‚îÇ   ‚îú‚îÄ‚îÄ auth_middleware.go
</span></span><span class="line"><span class="cl">‚îÇ   ‚îî‚îÄ‚îÄ logger_middleware.go
</span></span><span class="line"><span class="cl">‚îú‚îÄ‚îÄ models
</span></span><span class="line"><span class="cl">‚îÇ   ‚îú‚îÄ‚îÄ db.go
</span></span><span class="line"><span class="cl">‚îÇ   ‚îú‚îÄ‚îÄ user.go
</span></span><span class="line"><span class="cl">‚îÇ   ‚îî‚îÄ‚îÄ ...
</span></span><span class="line"><span class="cl">‚îú‚îÄ‚îÄ routes
</span></span><span class="line"><span class="cl">‚îÇ   ‚îî‚îÄ‚îÄ routes.go
</span></span><span class="line"><span class="cl">‚îú‚îÄ‚îÄ services
</span></span><span class="line"><span class="cl">‚îÇ   ‚îú‚îÄ‚îÄ auth_service.go
</span></span><span class="line"><span class="cl">‚îÇ   ‚îî‚îÄ‚îÄ user_service.go
</span></span><span class="line"><span class="cl">‚îú‚îÄ‚îÄ utils
</span></span><span class="line"><span class="cl">‚îÇ   ‚îú‚îÄ‚îÄ response.go
</span></span><span class="line"><span class="cl">‚îÇ   ‚îî‚îÄ‚îÄ ...
</span></span><span class="line"><span class="cl">‚îú‚îÄ‚îÄ main.go
</span></span><span class="line"><span class="cl">‚îî‚îÄ‚îÄ README.md
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="yaml">YAML
</h3><p><a class="link" href="https://github.com/go-yaml/yaml"  target="_blank" rel="noopener"
    >go-yaml/yaml: YAML support for the Go language. (github.com)</a></p>
<p><a class="link" href="https://pkg.go.dev/gopkg.in/yaml.v3"  target="_blank" rel="noopener"
    >ÂÆòÊñπÊñáÊ°£</a></p>
<p>YAML ÂÖ®Áß∞ÊòØ ‚ÄùYAML Ain‚Äôt a Markup Language‚Äù ÁöÑ<strong>ÈÄíÂΩí</strong>Áº©ÂÜôÔºåËØ•ËØ≠Ë®ÄÁöÑËÆæËÆ°ÂèÇËÄÉ‰∫Ü JSON / XML Âíå SDL Á≠âËØ≠Ë®ÄÔºåÂº∫Ë∞É‰ª•Êï∞ÊçÆ‰∏∫‰∏≠ÂøÉÔºåÁÆÄÊ¥ÅÊòìËØªÔºåÁºñÂÜôÁÆÄÂçï„ÄÇ</p>
<h4 id="ËØ≠Ê≥ïÁâπÁÇπ">ËØ≠Ê≥ïÁâπÁÇπ
</h4><ul>
<li><strong>Â§ßÂ∞èÂÜôÊïèÊÑü</strong></li>
<li>ÈÄöËøá<strong>Áº©Ëøõ</strong>Ë°®Á§∫Â±ÇÁ∫ßÂÖ≥Á≥ª</li>
<li>Á¶ÅÊ≠¢‰ΩøÁî® tab Áº©ËøõÔºåÂè™ËÉΩ‰ΩøÁî®<strong>Á©∫Ê†º</strong>ÈîÆ</li>
<li>Áº©ËøõÁöÑÁ©∫Ê†º<strong>Êï∞ÁõÆ‰∏çÈáçË¶Å</strong>ÔºåÂè™Ë¶ÅÁõ∏<strong>ÂêåÂ±ÇÁ∫ßÂ∑¶ÂØπÈΩê</strong></li>
<li>‰ΩøÁî® # Ë°®Á§∫Ê≥®Èáä</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># ‰ª•‰∏ãÊòØyaml</span>
</span></span><span class="line"><span class="cl">languages:
</span></span><span class="line"><span class="cl">    - Ruby
</span></span><span class="line"><span class="cl">    - Perl
</span></span><span class="line"><span class="cl">    - Python
</span></span><span class="line"><span class="cl">websites:
</span></span><span class="line"><span class="cl">    YAML: yaml.org
</span></span><span class="line"><span class="cl">    Ruby: ruby-lang.org
</span></span><span class="line"><span class="cl">    Python: python.org
</span></span><span class="line"><span class="cl">    Perl: use.perl.org
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># ‰ª•‰∏ãÊòØJson</span>
</span></span><span class="line"><span class="cl"><span class="o">{</span>
</span></span><span class="line"><span class="cl">    languages: <span class="o">[</span>
</span></span><span class="line"><span class="cl">        <span class="s1">&#39;Ruby&#39;</span>,
</span></span><span class="line"><span class="cl">        <span class="s1">&#39;Perl&#39;</span>,
</span></span><span class="line"><span class="cl">        <span class="s1">&#39;Python&#39;</span>
</span></span><span class="line"><span class="cl">    <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    websites: <span class="o">{</span>
</span></span><span class="line"><span class="cl">        YAML: <span class="s1">&#39;yaml.org&#39;</span>,
</span></span><span class="line"><span class="cl">        Ruby: <span class="s1">&#39;ruby-lang.org&#39;</span>,
</span></span><span class="line"><span class="cl">        Python: <span class="s1">&#39;python.org&#39;</span>,
</span></span><span class="line"><span class="cl">        Perl: <span class="s1">&#39;use.perl.org&#39;</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="Â±ûÊÄß">Â±ûÊÄß
</h4><ul>
<li><code>omitempty</code> ÊòØ‰∏Ä‰∏™Â±ûÊÄßÔºåÁî®‰∫éÊåáÁ§∫ËØ•Â≠óÊÆµ<strong>ÊòØÂê¶</strong>ÂèØ‰ª•‰∏∫Á©∫„ÄÇÂ¶ÇÊûúËøô‰∫õÂ≠óÊÆµÊ≤°ÊúâÂÄºÔºåÂÆÉ‰ª¨Â∞Ü‰∏ç‰ºöË¢´Â∫èÂàóÂåñÂà∞ YAML Êñá‰ª∂‰∏≠</li>
</ul>
<h4 id="‰ΩøÁî®ËØ¥Êòé">‰ΩøÁî®ËØ¥Êòé
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">Marshal</span><span class="p">(</span><span class="nx">in</span> <span class="kd">interface</span><span class="p">{})</span> <span class="p">(</span><span class="nx">out</span> <span class="p">[]</span><span class="kt">byte</span><span class="p">,</span> <span class="nx">err</span> <span class="kt">error</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">        <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="s">&#34;log&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="s">&#34;gopkg.in/yaml.v3&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">data</span> <span class="p">=</span> <span class="s">`
</span></span></span><span class="line"><span class="cl"><span class="s">a: Easy!
</span></span></span><span class="line"><span class="cl"><span class="s">b:
</span></span></span><span class="line"><span class="cl"><span class="s">  c: 2
</span></span></span><span class="line"><span class="cl"><span class="s">  d: [3, 4]
</span></span></span><span class="line"><span class="cl"><span class="s">`</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Note: struct fields must be public in order for unmarshal to
</span></span></span><span class="line"><span class="cl"><span class="c1">// correctly populate the data.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">type</span> <span class="nx">T</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">A</span> <span class="kt">string</span>
</span></span><span class="line"><span class="cl">        <span class="nx">B</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">RenamedC</span> <span class="kt">int</span>   <span class="s">`yaml:&#34;c&#34;`</span>
</span></span><span class="line"><span class="cl">                <span class="nx">D</span>        <span class="p">[]</span><span class="kt">int</span> <span class="s">`yaml:&#34;,flow&#34;`</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">t</span> <span class="o">:=</span> <span class="nx">T</span><span class="p">{}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">        <span class="nx">err</span> <span class="o">:=</span> <span class="nx">yaml</span><span class="p">.</span><span class="nf">Unmarshal</span><span class="p">([]</span><span class="nb">byte</span><span class="p">(</span><span class="nx">data</span><span class="p">),</span> <span class="o">&amp;</span><span class="nx">t</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">log</span><span class="p">.</span><span class="nf">Fatalf</span><span class="p">(</span><span class="s">&#34;error: %v&#34;</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;--- t:\n%v\n\n&#34;</span><span class="p">,</span> <span class="nx">t</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">        <span class="nx">d</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">yaml</span><span class="p">.</span><span class="nf">Marshal</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">t</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">log</span><span class="p">.</span><span class="nf">Fatalf</span><span class="p">(</span><span class="s">&#34;error: %v&#34;</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;--- t dump:\n%s\n\n&#34;</span><span class="p">,</span> <span class="nb">string</span><span class="p">(</span><span class="nx">d</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">        <span class="nx">m</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="kd">map</span><span class="p">[</span><span class="kd">interface</span><span class="p">{}]</span><span class="kd">interface</span><span class="p">{})</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">        <span class="nx">err</span> <span class="p">=</span> <span class="nx">yaml</span><span class="p">.</span><span class="nf">Unmarshal</span><span class="p">([]</span><span class="nb">byte</span><span class="p">(</span><span class="nx">data</span><span class="p">),</span> <span class="o">&amp;</span><span class="nx">m</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">log</span><span class="p">.</span><span class="nf">Fatalf</span><span class="p">(</span><span class="s">&#34;error: %v&#34;</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;--- m:\n%v\n\n&#34;</span><span class="p">,</span> <span class="nx">m</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">        <span class="nx">d</span><span class="p">,</span> <span class="nx">err</span> <span class="p">=</span> <span class="nx">yaml</span><span class="p">.</span><span class="nf">Marshal</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">m</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">log</span><span class="p">.</span><span class="nf">Fatalf</span><span class="p">(</span><span class="s">&#34;error: %v&#34;</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;--- m dump:\n%s\n\n&#34;</span><span class="p">,</span> <span class="nb">string</span><span class="p">(</span><span class="nx">d</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w"> </span><span class="nt">t</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span>{<span class="l">Easy! {2 [3 4]}}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nn">---</span><span class="w"> </span><span class="nt">t dump</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">a</span><span class="p">:</span><span class="w"> </span><span class="l">Easy!</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">b</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">c</span><span class="p">:</span><span class="w"> </span><span class="m">2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">d</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="m">4</span><span class="p">]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nn">---</span><span class="w"> </span><span class="nt">m</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="l">map[a:Easy! b:map[c:2 d:[3 4]]]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nn">---</span><span class="w"> </span><span class="nt">m dump</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">a</span><span class="p">:</span><span class="w"> </span><span class="l">Easy!</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">b</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">c</span><span class="p">:</span><span class="w"> </span><span class="m">2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">d</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="m">3</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="m">4</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="jwt">jwt
</h3><h4 id="ÊëòË¶Å">ÊëòË¶Å
</h4><p><a class="link" href="https://github.com/golang-jwt/jwt"  target="_blank" rel="noopener"
    >golang-jwt/jwt: Community maintained clone of https://github.com/dgrijalva/jwt-go</a></p>
<p>Starting with v4.0.0 this project adds Go module support</p>
<p>Âú®‰ªãÁªç JWT ‰πãÂâçÔºåÊàë‰ª¨ÂÖàÊù•ÂõûÈ°æ‰∏Ä‰∏ãÂà©Áî® <code>token</code> ËøõË°åÁî®Êà∑<strong>Ë∫´‰ªΩÈ™åËØÅ</strong>ÁöÑ<strong>ÊµÅÁ®ã</strong>Ôºö</p>
<ol>
<li>ÂÆ¢Êà∑Á´Ø‰ΩøÁî®Áî®Êà∑ÂêçÂíåÂØÜÁ†ÅËØ∑Ê±ÇÁôªÂΩï</li>
<li>ÊúçÂä°Á´ØÊî∂Âà∞ËØ∑Ê±ÇÔºåÈ™åËØÅÁî®Êà∑ÂêçÂíåÂØÜÁ†Å</li>
<li>È™åËØÅÊàêÂäüÂêéÔºåÊúçÂä°Á´Ø‰ºöÁ≠æÂèë‰∏Ä‰∏™ <code>token</code>ÔºåÂÜçÊääËøô‰∏™ <code>token</code> <strong>ËøîÂõû</strong>ÁªôÂÆ¢Êà∑Á´Ø</li>
<li>ÂÆ¢Êà∑Á´ØÊî∂Âà∞ token ÂêéÂèØ‰ª•ÊääÂÆÉÂ≠òÂÇ®Ëµ∑Êù•ÔºåÊØîÂ¶ÇÊîæÂà∞ cookie ‰∏≠</li>
<li>ÂÆ¢Êà∑Á´Ø<strong>ÊØèÊ¨°</strong>ÂêëÊúçÂä°Á´ØËØ∑Ê±ÇËµÑÊ∫êÊó∂ÈúÄË¶ÅÊê∫Â∏¶ÊúçÂä°Á´ØÁ≠æÂèëÁöÑ tokenÔºåÂèØ‰ª•Âú® <code>cookie</code> ÊàñËÄÖ <code>header</code> ‰∏≠Êê∫Â∏¶</li>
<li>ÊúçÂä°Á´ØÊî∂Âà∞ËØ∑Ê±ÇÔºåÁÑ∂ÂêéÂéªÈ™åËØÅÂÆ¢Êà∑Á´ØËØ∑Ê±ÇÈáåÈù¢Â∏¶ÁùÄÁöÑ <code>token</code>ÔºåÂ¶ÇÊûúÈ™åËØÅÊàêÂäüÔºåÂ∞±ÂêëÂÆ¢Êà∑Á´ØËøîÂõûËØ∑Ê±ÇÊï∞ÊçÆ</li>
</ol>
<p>ËøôÁßçÂü∫‰∫é <code>token</code> ÁöÑËÆ§ËØÅÊñπÂºèÁõ∏ÊØî‰º†ÁªüÁöÑ <code>session</code> ËÆ§ËØÅÊñπÂºèÊõ¥ËäÇÁ∫¶ÊúçÂä°Âô®ËµÑÊ∫êÔºåÂπ∂‰∏îÂØπÁßªÂä®Á´ØÂíåÂàÜÂ∏ÉÂºèÊõ¥Âä†ÂèãÂ•Ω„ÄÇÂÖ∂‰ºòÁÇπÂ¶Ç‰∏ãÔºö</p>
<p><a class="link" href="https://tool.box3.cn/jwt.html"  target="_blank" rel="noopener"
    >JWT Âú®Á∫øËß£Á†Å - ÂºÄÂèëÂ∑•ÂÖ∑ÁÆ± (box3.cn)</a></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJsaXF3ZXR0IiwiZXhwIjoxNjkzMjk1MDY3LCJpYXQiOjE2OTMyMDg2NjgsImlzcyI6ImRlbW8iLCJuYmYiOjE2OTMyMDg2Njh9.GWPbzwiNBsCuAeE_dbn21xjAlGpK7Xh683F4-X1NPJc
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">{</span>
</span></span><span class="line"><span class="cl">  <span class="s2">&#34;alg&#34;</span>: <span class="s2">&#34;HS256&#34;</span>,
</span></span><span class="line"><span class="cl">  <span class="s2">&#34;typ&#34;</span>: <span class="s2">&#34;JWT&#34;</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">{</span>
</span></span><span class="line"><span class="cl">  <span class="s2">&#34;aud&#34;</span>: <span class="s2">&#34;liqwett&#34;</span>,
</span></span><span class="line"><span class="cl">  <span class="s2">&#34;exp&#34;</span>: 1693295067,
</span></span><span class="line"><span class="cl">  <span class="s2">&#34;iat&#34;</span>: 1693208668,
</span></span><span class="line"><span class="cl">  <span class="c1"># ÂèëË°å‰∫∫</span>
</span></span><span class="line"><span class="cl">  <span class="s2">&#34;iss&#34;</span>: <span class="s2">&#34;demo&#34;</span>,
</span></span><span class="line"><span class="cl">  <span class="s2">&#34;nbf&#34;</span>: <span class="m">1693208668</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="ÁªìÊûÑ">ÁªìÊûÑ
</h4><p>JWT Áî± 3 ÈÉ®ÂàÜÁªÑÊàêÔºöÊ†áÂ§¥ (Header)„ÄÅÊúâÊïàËΩΩËç∑ (Payload) ÂíåÁ≠æÂêç (Signature)</p>
<p>Header</p>
<p><strong>JWT Â§¥</strong>ÊòØ‰∏Ä‰∏™ÊèèËø∞ JWT ÂÖÉÊï∞ÊçÆÁöÑ JSON ÂØπË±°Ôºåalg Â±ûÊÄßË°®Á§∫Á≠æÂêç‰ΩøÁî®ÁöÑÁÆóÊ≥ïÔºåÈªòËÆ§‰∏∫ HMAC SHA256ÔºàÂÜô‰∏∫ HS256ÔºâÔºõtyp Â±ûÊÄßË°®Á§∫‰ª§ÁâåÁöÑÁ±ªÂûãÔºåJWT ‰ª§ÁâåÁªü‰∏ÄÂÜô‰∏∫ JWT„ÄÇÊúÄÂêéÔºå‰ΩøÁî® Base64 URL ÁÆóÊ≥ïÂ∞Ü‰∏äËø∞ JSON ÂØπË±°ËΩ¨Êç¢‰∏∫Â≠óÁ¨¶‰∏≤‰øùÂ≠ò</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="s">&#34;alg&#34;</span><span class="p">:</span> <span class="s">&#34;HS256&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="s">&#34;typ&#34;</span><span class="p">:</span> <span class="s">&#34;JWT&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Playload &mdash;ÊúâÊïàËç∑ËΩΩÈÉ®ÂàÜ</p>
<p><strong>ÈªòËÆ§ÊÉÖÂÜµ‰∏ã JWT ÊòØÊú™Âä†ÂØÜÁöÑÔºåÂõ†‰∏∫Âè™ÊòØÈááÁî® base64 ÁÆóÊ≥ïÔºåÊãøÂà∞ JWT Â≠óÁ¨¶‰∏≤ÂêéÂèØ‰ª•ËΩ¨Êç¢ÂõûÂéüÊú¨ÁöÑ JSON Êï∞ÊçÆÔºå‰ªª‰Ωï‰∫∫ÈÉΩÂèØ‰ª•Ëß£ËØªÂÖ∂ÂÜÖÂÆπÔºåÂõ†Ê≠§‰∏çË¶ÅÊûÑÂª∫ÈöêÁßÅ‰ø°ÊÅØÂ≠óÊÆµÔºåÊØîÂ¶ÇÁî®Êà∑ÁöÑÂØÜÁ†Å‰∏ÄÂÆö‰∏çËÉΩ‰øùÂ≠òÂà∞ JWT ‰∏≠</strong>Ôºå‰ª•Èò≤Ê≠¢‰ø°ÊÅØÊ≥ÑÈú≤„ÄÇ <strong>JWT Âè™ÊòØÈÄÇÂêàÂú®ÁΩëÁªú‰∏≠‰º†Ëæì‰∏Ä‰∫õÈùûÊïèÊÑüÁöÑ‰ø°ÊÅØ</strong></p>
<p>jwt ÊåáÂÆö‰∏É‰∏™ÈªòËÆ§Â≠óÊÆµÂÖ±ÈÄâÊã©</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">iss</span><span class="err">Ôºö</span><span class="nx">ÂèëË°å‰∫∫</span>
</span></span><span class="line"><span class="cl"><span class="nx">exp</span><span class="err">Ôºö</span><span class="nx">Âà∞ÊúüÊó∂Èó¥</span>
</span></span><span class="line"><span class="cl"><span class="nx">sub</span><span class="err">Ôºö</span><span class="nx">‰∏ªÈ¢ò</span>
</span></span><span class="line"><span class="cl"><span class="nx">aud</span><span class="err">Ôºö</span><span class="nx">Áî®Êà∑</span>
</span></span><span class="line"><span class="cl"><span class="nx">nbf</span><span class="err">Ôºö</span><span class="nx">Âú®Ê≠§‰πãÂâç‰∏çÂèØÁî®</span>
</span></span><span class="line"><span class="cl"><span class="nx">iat</span><span class="err">Ôºö</span><span class="nx">ÂèëÂ∏ÉÊó∂Èó¥</span>
</span></span><span class="line"><span class="cl"><span class="nx">jti</span><span class="err">Ôºö</span><span class="nx">JWT</span> <span class="nx">IDÁî®‰∫éÊ†áËØÜËØ•JWT</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>‰πüÂèØ‰ª•ÂÆö‰πâÁßÅÊúâÂ≠óÊÆµ, ‰∏ÄËà¨ÂêßÂåÖÂê´Áî®Êà∑‰ø°ÊÅØÁöÑÊï∞ÊçÆÊîæÂà∞<code>playload</code>‰∏≠</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="s">&#34;sub&#34;</span><span class="p">:</span> <span class="s">&#34;1234567890&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="s">&#34;name&#34;</span><span class="p">:</span> <span class="s">&#34;Helen&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="s">&#34;admin&#34;</span><span class="p">:</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>signature</p>
<ul>
<li>ÈúÄË¶ÅÊåáÂÆö‰∏Ä‰∏™ÂØÜÈí•ÔºàsecretÔºâ„ÄÇËØ•ÂØÜÁ†Å‰ªÖ‰ªÖ‰∏∫‰øùÂ≠òÂú®<strong>ÊúçÂä°Âô®</strong>‰∏≠ÔºåÂπ∂‰∏î<strong>‰∏çËÉΩÂêëÁî®Êà∑ÂÖ¨ÂºÄ</strong>„ÄÇ</li>
<li>‰ΩøÁî® header ‰∏≠ÊåáÂÆöÁöÑÁ≠æÂêçÁÆóÊ≥ïÔºàÈªòËÆ§ÊÉÖÂÜµ‰∏ã‰∏∫ HMAC SHA256ÔºâÊ†πÊçÆ‰ª•‰∏ãÂÖ¨ÂºèÁîüÊàêÁ≠æÂêç</li>
</ul>
<p>$\text{HMACSHA256}(\text{base}64\text{UrlEncode}(\text{header})+\text{‚Äú.‚Äù}+\text{base}64\text{UrlEncode}(\text{payload}),\text{secret})$</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><p>Âú®ËÆ°ÁÆóÂá∫Á≠æÂêçÂìàÂ∏åÂêéÔºåJWT Â§¥ÔºåÊúâÊïàËΩΩËç∑ÂíåÁ≠æÂêçÂìàÂ∏åÁöÑ‰∏â‰∏™ÈÉ®ÂàÜÁªÑÂêàÊàê‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ÔºåÊØè‰∏™ÈÉ®ÂàÜÁî®<code>.</code> ÂàÜÈöîÔºåÂ∞±ÊûÑÊàêÊï¥‰∏™ JWT ÂØπË±°</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nf">base64enc</span><span class="p">({</span>
</span></span><span class="line"><span class="cl"><span class="s">&#34;alg&#34;</span><span class="p">:</span> <span class="s">&#34;HS256&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="s">&#34;typ&#34;</span><span class="p">:</span> <span class="s">&#34;JWT&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="p">.</span>
</span></span><span class="line"><span class="cl"><span class="nf">base64enc</span><span class="p">({</span>
</span></span><span class="line"><span class="cl"><span class="s">&#34;iss&#34;</span><span class="p">:</span> <span class="s">&#34;toptal.com&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="s">&#34;exp&#34;</span><span class="p">:</span> <span class="mi">1426420800</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl"><span class="s">&#34;company&#34;</span><span class="p">:</span> <span class="s">&#34;Toptal&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl"><span class="s">&#34;awesome&#34;</span><span class="p">:</span><span class="kc">true</span>
</span></span><span class="line"><span class="cl"> <span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="p">.</span>
</span></span><span class="line"><span class="cl"><span class="nf">HMACSHA256</span><span class="p">(</span>
</span></span><span class="line"><span class="cl"><span class="nf">base64enc</span><span class="p">(</span><span class="nx">header</span><span class="p">)</span><span class="o">+</span> <span class="sc">&#39;.&#39;</span><span class="o">+</span> <span class="nf">base64enc</span><span class="p">(</span><span class="nx">payload</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">,</span> <span class="nx">secretKey</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="Á≠æÂêçÁÆóÊ≥ï">Á≠æÂêçÁÆóÊ≥ï
</h4><p>Âà∞ÁõÆÂâç‰∏∫Ê≠¢Ôºåjwt ÁöÑÁ≠æÂêçÁÆóÊ≥ïÊúâ‰∏âÁßçÔºö</p>
<ul>
<li>HMAC„ÄêÂìàÂ∏åÊ∂àÊÅØÈ™åËØÅÁ†Å (ÂØπÁß∞)„ÄëÔºöHS256/HS384/HS512</li>
<li>RSASSA„ÄêRSA Á≠æÂêçÁÆóÊ≥ï (ÈùûÂØπÁß∞)„ÄëÔºàRS256/RS384/RS512Ôºâ</li>
<li>ECDSA„ÄêÊ§≠ÂúÜÊõ≤Á∫øÊï∞ÊçÆÁ≠æÂêçÁÆóÊ≥ï (ÈùûÂØπÁß∞)„ÄëÔºàES256/ES384/ES512Ôºâ</li>
</ul>
<h4 id="jwt-‰∫ßÁîüÁöÑ-token-ËøòÈúÄË¶ÅÂä†ÂØÜ‰πà">jwt ‰∫ßÁîüÁöÑ token ËøòÈúÄË¶ÅÂä†ÂØÜ‰πà
</h4><p>Á≠æÂêçÁöÑÁõÆÁöÑÊòØ‰∏∫‰∫ÜÈ™åËØÅ JWT ÁöÑÂÆåÊï¥ÊÄßÂíåÁúüÂÆûÊÄß„ÄÇÂΩìÊúçÂä°Âô®Êé•Êî∂Âà∞ JWT Êó∂ÔºåÂÆÉÂèØ‰ª•‰ΩøÁî®Áõ∏ÂêåÁöÑÂØÜÈí•ÂØπ JWT ËøõË°åËß£ÂØÜÂíåÈ™åËØÅÁ≠æÂêç„ÄÇÂ¶ÇÊûúÁ≠æÂêçÈ™åËØÅÊàêÂäüÔºåÊúçÂä°Âô®ÂèØ‰ª•Áõ∏‰ø° JWT ‰∏≠ÁöÑÊï∞ÊçÆÊòØÂèØ‰ø°ÁöÑ„ÄÇ</p>
<p>Âõ†Ê≠§Ôºå‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãÔºåJWT ÁöÑÁ≠æÂêçÂ∑≤ÁªèÊèê‰æõ‰∫ÜË∂≥Â§üÁöÑÂÆâÂÖ®ÊÄßÔºå‰∏çÈúÄË¶ÅÈ¢ùÂ§ñÁöÑÂä†ÂØÜ„ÄÇÁÑ∂ËÄåÔºåÂ¶ÇÊûú‰Ω†ÂØπÊï∞ÊçÆÁöÑ‰øùÂØÜÊÄßÊúâÊõ¥È´òÁöÑË¶ÅÊ±ÇÔºå‰Ω†ÂèØ‰ª•‰ΩøÁî®Âä†ÂØÜÁÆóÊ≥ïÂØπËΩΩËç∑ÈÉ®ÂàÜËøõË°åÂä†ÂØÜÔºåÁÑ∂ÂêéÂ∞ÜÂä†ÂØÜÂêéÁöÑÊï∞ÊçÆÊîæÂÖ• JWT ÁöÑËΩΩËç∑‰∏≠„ÄÇ</p>
<p>Âú®‰º†Ëæì JWT Êó∂ÂèØËÉΩ‰ºöË¢´ÂÖ∂‰ªñ‰∫∫Á™ÉÂèñÔºåËøôÁ°ÆÂÆûÂ≠òÂú®‰∏ÄÂÆöÁöÑÈ£éÈô©„ÄÇJWT Êú¨Ë∫´ÊòØÂü∫‰∫éÊñáÊú¨ÁöÑÔºåÂõ†Ê≠§Âú®‰º†ËæìËøáÁ®ã‰∏≠ÂèØËÉΩ‰ºöË¢´<strong>Êà™Ëé∑ÊàñÁ™ÉÂèñ</strong>„ÄÇ</p>
<p>‰∏∫‰∫ÜÂáèËΩªËøôÁßçÈ£éÈô©ÔºåÊúâÂá†‰∏™Â∏∏ËßÅÁöÑÂÅöÊ≥ïÂèØ‰ª•ÈááÁî®Ôºö</p>
<ol>
<li>‰ΩøÁî® HTTPSÔºö‰ΩøÁî® HTTPS ÂçèËÆÆËøõË°åÈÄö‰ø°ÂèØ‰ª•Âä†ÂØÜ‰º†ËæìÁöÑÊï∞ÊçÆÔºå‰ªéËÄåÊèê‰æõÊõ¥È´òÁöÑÂÆâÂÖ®ÊÄß„ÄÇËøôÊ†∑ÔºåÂç≥‰Ωø JWT Ë¢´Êà™Ëé∑ÔºåÊîªÂáªËÄÖ‰πüÊó†Ê≥ïËΩªÊòìËß£ÂØÜÂíåÁØ°ÊîπÂÖ∂‰∏≠ÁöÑÊï∞ÊçÆ„ÄÇ</li>
<li>ÈôêÂà∂ JWT ÁöÑÊúâÊïàÊúüÔºöÂú®ÁîüÊàê JWT Êó∂ÔºåÂèØ‰ª•ËÆæÁΩÆ‰∏Ä‰∏™ËæÉÁü≠ÁöÑÊúâÊïàÊúüÔºå‰ΩøÂæó JWT Âú®‰∏ÄÊÆµÊó∂Èó¥ÂêéËá™Âä®Â§±Êïà„ÄÇËøôÊ†∑Âç≥‰Ωø JWT Ë¢´Êà™Ëé∑ÔºåÊîªÂáªËÄÖ‰πüÂè™ËÉΩÂú®ÊúâÊïàÊúüÂÜÖ‰ΩøÁî®ÔºåÊúâÊïàÊúüËøáÂêéÂ∞±Êó†Ê≥ïÁªßÁª≠‰ΩøÁî®„ÄÇ</li>
<li>ÈÅøÂÖçÂú® JWT ‰∏≠Â≠òÂÇ®ÊïèÊÑü‰ø°ÊÅØÔºöÂ∞ΩÈáèÈÅøÂÖçÂ∞ÜÊïèÊÑü‰ø°ÊÅØÁõ¥Êé•Â≠òÂÇ®Âú® JWT ÁöÑËΩΩËç∑‰∏≠ÔºåÁâπÂà´ÊòØ‰∏çË¶ÅÂ∞ÜÂØÜÁ†ÅÁ≠âÊïèÊÑüÂá≠ÊçÆÊîæÂú® JWT ‰∏≠„ÄÇÂ¶ÇÊûúÈúÄË¶Å‰º†ÈÄíÊïèÊÑü‰ø°ÊÅØÔºåÂèØ‰ª•ËÄÉËôë‰ΩøÁî®Âä†ÂØÜÁÆóÊ≥ïÂØπÊïèÊÑüÊï∞ÊçÆËøõË°åÂä†ÂØÜÔºåÁÑ∂ÂêéÂ∞ÜÂä†ÂØÜÂêéÁöÑÊï∞ÊçÆÊîæÂÖ• JWT ÁöÑËΩΩËç∑‰∏≠„ÄÇ</li>
<li>‰ΩøÁî®Á≠æÂêçÈ™åËØÅÔºöÂú®ÊúçÂä°Âô®Á´ØÊé•Êî∂Âà∞ JWT ÂêéÔºåÂßãÁªàË¶ÅËøõË°åÁ≠æÂêçÈ™åËØÅÔºåÁ°Æ‰øù JWT ÁöÑÂÆåÊï¥ÊÄßÂíåÁúüÂÆûÊÄß„ÄÇÂ¶ÇÊûúÁ≠æÂêçÈ™åËØÅÂ§±Ë¥•ÔºåËØ¥Êòé JWT ÂèØËÉΩÂ∑≤Ë¢´ÁØ°ÊîπÔºåÂ∫îËØ•ÊãíÁªùÊé•ÂèóËØ• JWT„ÄÇ</li>
</ol>
<h4 id="‰ΩøÁî®ËØ¥Êòé-1">‰ΩøÁî®ËØ¥Êòé
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">   <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">   <span class="s">&#34;github.com/golang-jwt/jwt/v4&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ÂàõÂª∫ÁßòÈí•
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>   	<span class="nx">key</span> <span class="o">:=</span> <span class="p">[]</span><span class="nb">byte</span><span class="p">(</span><span class="s">&#34;aaa&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ÂàõÂª∫TokenÁªìÊûÑ‰Ωì
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">claims</span> <span class="o">:=</span> <span class="nx">jwt</span><span class="p">.</span><span class="nf">NewWithClaims</span><span class="p">(</span><span class="nx">jwt</span><span class="p">.</span><span class="nx">SigningMethodHS256</span><span class="p">,</span> <span class="nx">jwt</span><span class="p">.</span><span class="nx">MapClaims</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="s">&#34;user&#34;</span><span class="p">:</span> <span class="s">&#34;zhangshan&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="s">&#34;pass&#34;</span><span class="p">:</span> <span class="s">&#34;123123&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	<span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Ë∞ÉÁî®Âä†ÂØÜÊñπÊ≥ïÔºåÂèëÊå•TokenÂ≠óÁ¨¶‰∏≤
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">signingString</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">claims</span><span class="p">.</span><span class="nf">SignedString</span><span class="p">(</span><span class="nx">key</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">signingString</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// Ê†πÊçÆTokenÂ≠óÁ¨¶‰∏≤Ëß£ÊûêÊàêClaimsÁªìÊûÑ‰Ωì
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">_</span><span class="p">,</span> <span class="nx">err</span> <span class="p">=</span> <span class="nx">jwt</span><span class="p">.</span><span class="nf">ParseWithClaims</span><span class="p">(</span><span class="nx">signingString</span><span class="p">,</span> <span class="nx">jwt</span><span class="p">.</span><span class="nx">MapClaims</span><span class="p">{},</span> <span class="kd">func</span><span class="p">(</span><span class="nx">token</span> <span class="o">*</span><span class="nx">jwt</span><span class="p">.</span><span class="nx">Token</span><span class="p">)</span> <span class="p">(</span><span class="kd">interface</span><span class="p">{},</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">       <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">token</span><span class="p">.</span><span class="nx">Header</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">       <span class="k">return</span> <span class="p">[]</span><span class="nb">byte</span><span class="p">(</span><span class="s">&#34;aaa&#34;</span><span class="p">),</span> <span class="kc">nil</span>
</span></span><span class="line"><span class="cl">    <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">       <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">       <span class="k">return</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//ËøôËæπÊòØËæìÂá∫ÁªìÊûú
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="o">&amp;</span><span class="p">{</span> <span class="mh">0xc0000c2690</span> <span class="kd">map</span><span class="p">[</span><span class="nx">alg</span><span class="p">:</span><span class="nx">ES256</span> <span class="nx">typ</span><span class="p">:</span><span class="nx">JWT</span><span class="p">]</span> <span class="kd">map</span><span class="p">[</span><span class="nx">user</span><span class="p">:</span><span class="nx">zhangshan</span><span class="p">]</span>  <span class="kc">false</span><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ËøôÊòØÂä†ÂØÜÂêéÁöÑÂ≠óÁ¨¶‰∏≤
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9</span><span class="p">.</span><span class="nx">eyJwYXNzIjoiMTIzMTIzIiwidXNlciI6InpoYW5nc2hhbiJ9</span><span class="p">.</span><span class="o">-</span><span class="mi">2</span><span class="o">-</span><span class="nx">xIJXMGKV</span><span class="o">-</span><span class="nx">GyhM24OKbDVqWs4dsIANBsGhzXEfEFM</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="structmapper-githubcomhttpsgithubcomwizardshanstructmapper"><a class="link" href="https://github.com/wizardshan/structmapper"  target="_blank" rel="noopener"
    >structmapper (github.com)</a>
</h3><p>ÁªìÊûÑÊò†Â∞ÑÂô®</p>
<p>ÂÆûÈôÖÈ°πÁõÆÂºÄÂèë‰∏≠ÔºåÈúÄË¶ÅÂêÑ‰∏™Â±ÇÁöÑÊï∞ÊçÆÊµÅËΩ¨Ôºåentity ËΩ¨Êç¢Âà∞ domainÔºådomain ËΩ¨Êç¢Âà∞ responseÔºåÂ∏∏ËßÅÂÆûÁé∞ÁöÑÊñπÂºèÂü∫Êú¨ÈÉΩÊòØÈÄöËøáÂèçÂ∞ÑÊú∫Âà∂ÂÆûÁé∞Ôºå‰æãÂ¶Ç Spring BeanUtils. copyPropertiesÔºåGolang ÁöÑ copier Á¨¨‰∏âÊñπÂ∫ìÔºåÂèçÂ∞ÑÁöÑÊïàÁéá‰ºóÊâÄÂë®Áü•ÔºåÂü∫Êú¨ÈÉΩÊòØÊÉ®‰∏çÂøçÁùπ„ÄÇ</p>
<p>ÂΩìÁÑ∂‰πüÂèØ‰ª•ÊâãÂä®‰∏Ä‰∏™‰∏™ÁöÑËµãÂÄº</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-golang" data-lang="golang"><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">User</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="nx">ID</span> <span class="kt">int</span>
</span></span><span class="line"><span class="cl">   <span class="nx">Mobile</span>       <span class="kt">string</span>
</span></span><span class="line"><span class="cl">   <span class="nx">Level</span>       <span class="kt">int</span>
</span></span><span class="line"><span class="cl">   <span class="nx">Name</span>           <span class="kt">string</span>
</span></span><span class="line"><span class="cl">   <span class="nx">RegisterTime</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Time</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">u</span> <span class="o">*</span><span class="nx">User</span><span class="p">)</span> <span class="nf">Mapping</span> <span class="p">(</span><span class="nx">from</span> <span class="o">*</span><span class="nx">User</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">u</span><span class="p">.</span><span class="nx">ID</span> <span class="p">=</span> <span class="nx">from</span><span class="p">.</span><span class="nx">ID</span>
</span></span><span class="line"><span class="cl">    <span class="nx">u</span><span class="p">.</span><span class="nx">Mobile</span> <span class="p">=</span> <span class="nx">from</span><span class="p">.</span><span class="nx">Mobile</span>
</span></span><span class="line"><span class="cl">    <span class="nx">u</span><span class="p">.</span><span class="nx">Level</span> <span class="p">=</span> <span class="nx">from</span><span class="p">.</span><span class="nx">Level</span>
</span></span><span class="line"><span class="cl">    <span class="nx">u</span><span class="p">.</span><span class="nx">Name</span> <span class="p">=</span> <span class="nx">from</span><span class="p">.</span><span class="nx">Name</span>
</span></span><span class="line"><span class="cl">    <span class="nx">u</span><span class="p">.</span><span class="nx">RegisterTime</span> <span class="p">=</span> <span class="nx">from</span><span class="p">.</span><span class="nx">RegisterTime</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="c1">//go:generate go run github.com/wizardshan/structmapper -toName User -fromName User -toPath ./response  -fromPath ./domain -toVar resp -fromVar dom
</span></span></span><span class="line"><span class="cl"><span class="c1">//go:generate go run github.com/wizardshan/structmapper -toName Orders -fromName Orders -toPath ./response  -fromPath ./domain -toVar resp -fromVar dom
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">response</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">Users</span> <span class="p">[]</span><span class="o">*</span><span class="nx">User</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">User</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">ID</span> <span class="kt">int</span> <span class="s">`json:&#34;id&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="nx">CreateTime</span> <span class="nx">DateTime</span> <span class="s">`json:&#34;createTime&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="nx">UpdateTime</span> <span class="o">*</span><span class="nx">DateTime</span> <span class="s">`json:&#34;updateTime&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="nx">DeleteTime</span> <span class="o">*</span><span class="nx">DateTime</span> <span class="s">`json:&#34;deleteTime&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Mobile</span> <span class="kt">string</span> <span class="s">`json:&#34;mobile&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Nickname</span> <span class="kt">string</span> <span class="s">`json:&#34;nickname&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Money</span> <span class="nx">Money</span> <span class="s">`json:&#34;money&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Level</span> <span class="kt">int</span> <span class="s">`json:&#34;level&#34;`</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">domain</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">Users</span> <span class="p">[]</span><span class="o">*</span><span class="nx">User</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">User</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">ID</span> <span class="kt">int</span>
</span></span><span class="line"><span class="cl">	<span class="nx">CreateTime</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Time</span>
</span></span><span class="line"><span class="cl">	<span class="nx">UpdateTime</span> <span class="o">*</span><span class="nx">time</span><span class="p">.</span><span class="nx">Time</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Mobile</span> <span class="kt">string</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Nickname</span> <span class="kt">string</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Money</span> <span class="kt">int</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">dom</span> <span class="o">*</span><span class="nx">User</span><span class="p">)</span> <span class="nf">Level</span><span class="p">()</span> <span class="kt">int</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">user_mapping</span><span class="p">.</span><span class="k">go</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">resp</span> <span class="o">*</span><span class="nx">User</span><span class="p">)</span> <span class="nf">Mapping</span><span class="p">(</span><span class="nx">dom</span> <span class="o">*</span><span class="nx">domain</span><span class="p">.</span><span class="nx">User</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="cm">/**************** mapping start ****************/</span>
</span></span><span class="line"><span class="cl">	<span class="nx">resp</span><span class="p">.</span><span class="nx">ID</span> <span class="p">=</span> <span class="nx">dom</span><span class="p">.</span><span class="nx">ID</span>
</span></span><span class="line"><span class="cl">	<span class="nx">resp</span><span class="p">.</span><span class="nx">CreateTime</span> <span class="p">=</span> <span class="nf">DateTime</span><span class="p">(</span><span class="nx">dom</span><span class="p">.</span><span class="nx">CreateTime</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">dom</span><span class="p">.</span><span class="nx">UpdateTime</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">updateTime</span> <span class="o">:=</span> <span class="nf">DateTime</span><span class="p">(</span><span class="o">*</span><span class="nx">dom</span><span class="p">.</span><span class="nx">UpdateTime</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="nx">resp</span><span class="p">.</span><span class="nx">UpdateTime</span> <span class="p">=</span> <span class="o">&amp;</span><span class="p">(</span><span class="nx">updateTime</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">//resp.DeleteTime = fromStruct property not exist
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">resp</span><span class="p">.</span><span class="nx">Mobile</span> <span class="p">=</span> <span class="nx">dom</span><span class="p">.</span><span class="nx">Mobile</span>
</span></span><span class="line"><span class="cl">	<span class="nx">resp</span><span class="p">.</span><span class="nx">Nickname</span> <span class="p">=</span> <span class="nx">dom</span><span class="p">.</span><span class="nx">Nickname</span>
</span></span><span class="line"><span class="cl">	<span class="nx">resp</span><span class="p">.</span><span class="nx">Money</span> <span class="p">=</span> <span class="nf">Money</span><span class="p">(</span><span class="nx">dom</span><span class="p">.</span><span class="nx">Money</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">resp</span><span class="p">.</span><span class="nx">Level</span> <span class="p">=</span> <span class="nx">dom</span><span class="p">.</span><span class="nf">Level</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="cm">/**************** mapping end  ****************/</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">orders_mapping</span><span class="p">.</span><span class="k">go</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">resp</span> <span class="o">*</span><span class="nx">Orders</span><span class="p">)</span> <span class="nf">Mapping</span><span class="p">(</span><span class="nx">dom</span> <span class="nx">domain</span><span class="p">.</span><span class="nx">Orders</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="cm">/**************** mapping start ****************/</span>
</span></span><span class="line"><span class="cl">	<span class="nx">domOrdersLen</span> <span class="o">:=</span> <span class="nb">len</span><span class="p">(</span><span class="nx">dom</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="o">*</span><span class="nx">resp</span> <span class="p">=</span> <span class="nb">make</span><span class="p">(</span><span class="nx">Orders</span><span class="p">,</span> <span class="nx">domOrdersLen</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">domOrdersLen</span> <span class="p">&gt;</span> <span class="mi">0</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">for</span> <span class="nx">domOrdersIndex</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">domOrdersIndex</span> <span class="p">&lt;</span> <span class="nx">domOrdersLen</span><span class="p">;</span> <span class="nx">domOrdersIndex</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="nx">domOrdersItem</span> <span class="o">:=</span> <span class="nx">dom</span><span class="p">[</span><span class="nx">domOrdersIndex</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">			<span class="nx">respOrder</span> <span class="o">:=</span> <span class="nb">new</span><span class="p">(</span><span class="nx">Order</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">			<span class="nx">respOrder</span><span class="p">.</span><span class="nx">ID</span> <span class="p">=</span> <span class="nx">domOrdersItem</span><span class="p">.</span><span class="nx">ID</span>
</span></span><span class="line"><span class="cl">			<span class="nx">respOrder</span><span class="p">.</span><span class="nx">Status</span> <span class="p">=</span> <span class="nx">domOrdersItem</span><span class="p">.</span><span class="nx">Status</span>
</span></span><span class="line"><span class="cl">			<span class="nx">respOrder</span><span class="p">.</span><span class="nx">Consignee</span> <span class="p">=</span> <span class="nx">domOrdersItem</span><span class="p">.</span><span class="nx">Consignee</span>
</span></span><span class="line"><span class="cl">			<span class="nx">respOrder</span><span class="p">.</span><span class="nx">Mobile</span> <span class="p">=</span> <span class="nx">domOrdersItem</span><span class="p">.</span><span class="nx">Mobile</span>
</span></span><span class="line"><span class="cl">			<span class="nx">respOrder</span><span class="p">.</span><span class="nx">Province</span> <span class="p">=</span> <span class="nx">domOrdersItem</span><span class="p">.</span><span class="nx">Province</span>
</span></span><span class="line"><span class="cl">			<span class="nx">respOrder</span><span class="p">.</span><span class="nx">City</span> <span class="p">=</span> <span class="nx">domOrdersItem</span><span class="p">.</span><span class="nx">City</span>
</span></span><span class="line"><span class="cl">			<span class="nx">respOrder</span><span class="p">.</span><span class="nx">Expired</span> <span class="p">=</span> <span class="nx">domOrdersItem</span><span class="p">.</span><span class="nf">Expired</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">			<span class="k">if</span> <span class="nx">domOrdersItem</span><span class="p">.</span><span class="nx">Shop</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">				<span class="nx">respOrderShop</span> <span class="o">:=</span> <span class="nb">new</span><span class="p">(</span><span class="nx">Shop</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">				<span class="nx">respOrderShop</span><span class="p">.</span><span class="nx">ID</span> <span class="p">=</span> <span class="nx">domOrdersItem</span><span class="p">.</span><span class="nx">Shop</span><span class="p">.</span><span class="nx">ID</span>
</span></span><span class="line"><span class="cl">				<span class="nx">respOrderShop</span><span class="p">.</span><span class="nx">Name</span> <span class="p">=</span> <span class="nx">domOrdersItem</span><span class="p">.</span><span class="nx">Shop</span><span class="p">.</span><span class="nx">Name</span>
</span></span><span class="line"><span class="cl">				<span class="nx">respOrder</span><span class="p">.</span><span class="nx">Shop</span> <span class="p">=</span> <span class="nx">respOrderShop</span>
</span></span><span class="line"><span class="cl">			<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">			<span class="nx">domOrdersItemItemsLen</span> <span class="o">:=</span> <span class="nb">len</span><span class="p">(</span><span class="nx">domOrdersItem</span><span class="p">.</span><span class="nx">Items</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">			<span class="nx">respOrderItems</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">([]</span><span class="o">*</span><span class="nx">Item</span><span class="p">,</span> <span class="nx">domOrdersItemItemsLen</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">			<span class="k">if</span> <span class="nx">domOrdersItemItemsLen</span> <span class="p">&gt;</span> <span class="mi">0</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">				<span class="k">for</span> <span class="nx">domOrdersItemItemsIndex</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">domOrdersItemItemsIndex</span> <span class="p">&lt;</span> <span class="nx">domOrdersItemItemsLen</span><span class="p">;</span> <span class="nx">domOrdersItemItemsIndex</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">					<span class="nx">domOrdersItemItemsItem</span> <span class="o">:=</span> <span class="nx">domOrdersItem</span><span class="p">.</span><span class="nx">Items</span><span class="p">[</span><span class="nx">domOrdersItemItemsIndex</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">					<span class="nx">respOrderItem</span> <span class="o">:=</span> <span class="nb">new</span><span class="p">(</span><span class="nx">Item</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">					<span class="nx">respOrderItem</span><span class="p">.</span><span class="nx">ID</span> <span class="p">=</span> <span class="nx">domOrdersItemItemsItem</span><span class="p">.</span><span class="nx">ID</span>
</span></span><span class="line"><span class="cl">					<span class="nx">respOrderItem</span><span class="p">.</span><span class="nx">Title</span> <span class="p">=</span> <span class="nx">domOrdersItemItemsItem</span><span class="p">.</span><span class="nx">Title</span>
</span></span><span class="line"><span class="cl">					<span class="nx">respOrderItem</span><span class="p">.</span><span class="nx">Price</span> <span class="p">=</span> <span class="nf">Money</span><span class="p">(</span><span class="nx">domOrdersItemItemsItem</span><span class="p">.</span><span class="nx">Price</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">					<span class="nx">respOrderItems</span><span class="p">[</span><span class="nx">domOrdersItemItemsIndex</span><span class="p">]</span> <span class="p">=</span> <span class="nx">respOrderItem</span>
</span></span><span class="line"><span class="cl">				<span class="p">}</span>
</span></span><span class="line"><span class="cl">			<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">			<span class="nx">respOrder</span><span class="p">.</span><span class="nx">Items</span> <span class="p">=</span> <span class="nf">respOrderItems</span>
</span></span><span class="line"><span class="cl">			<span class="p">(</span><span class="o">*</span><span class="nx">resp</span><span class="p">)[</span><span class="nx">domOrdersIndex</span><span class="p">]</span> <span class="p">=</span> <span class="nx">respOrder</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="cm">/**************** mapping end  ****************/</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="hertz">hertz
</h3><p>thriftgoÊòØ‰ªÄ‰πà</p>
<p><code>thriftgo</code> ÊòØ Thrift ÂçèËÆÆÁöÑ Go ËØ≠Ë®ÄÂÆûÁé∞„ÄÇThrift ÊòØ‰∏ÄÁßçË∑®ËØ≠Ë®ÄÁöÑÊúçÂä°Ê°ÜÊû∂ÔºåÂÆÉÂèØ‰ª•Â∏ÆÂä©ÂºÄÂèë‰∫∫ÂëòÂú®‰∏çÂêåÁöÑÁºñÁ®ãËØ≠Ë®Ä‰πãÈó¥ËøõË°åÈÄö‰ø°ÂíåÊï∞ÊçÆ‰∫§Êç¢„ÄÇ</p>
<p><code>thriftgo</code> ÊòØ‰∏Ä‰∏™ÂºÄÊ∫êÁöÑÈ°πÁõÆÔºåÂÆÉÊèê‰æõ‰∫Ü‰∏Ä‰∏™Áî®‰∫éÁîüÊàê Thrift ÊúçÂä°ÂíåÂÆ¢Êà∑Á´Ø‰ª£Á†ÅÁöÑ Go ËØ≠Ë®ÄÂ∫ì„ÄÇ‰ΩøÁî® <code>thriftgo</code>ÔºåÂºÄÂèë‰∫∫ÂëòÂèØ‰ª•ËΩªÊùæÂú∞ÂÆö‰πâ Thrift ÊúçÂä°Â•ëÁ∫¶ÔºåÁîüÊàêÊúçÂä°Á´ØÂíåÂÆ¢Êà∑Á´Ø‰ª£Á†ÅÔºåÂπ∂Âú®‰∏çÂêåÁöÑËØ≠Ë®Ä‰πãÈó¥ËøõË°åÈÄö‰ø°„ÄÇ</p>
<p><code>thriftgo</code> ÁöÑ‰∏ªË¶ÅÁâπÁÇπÂ¶Ç‰∏ãÔºö</p>
<ol>
<li>ÊîØÊåÅÂ§öÁßçËØ≠Ë®ÄÔºö<code>thriftgo</code> ÂèØ‰ª•ÁîüÊàêÂ§öÁßçËØ≠Ë®ÄÁöÑ‰ª£Á†ÅÔºåÂåÖÊã¨ Go„ÄÅJava„ÄÅC++„ÄÅPython Á≠â„ÄÇ</li>
<li>ÁÆÄÂçïÊòìÁî®Ôºö<code>thriftgo</code> Êèê‰æõ‰∫Ü‰∏Ä‰∏™ÁÆÄÂçïÁöÑ APIÔºåÂèØ‰ª•Â∏ÆÂä©ÂºÄÂèë‰∫∫ÂëòÂø´ÈÄüÁîüÊàê Thrift ÊúçÂä°ÂíåÂÆ¢Êà∑Á´Ø‰ª£Á†Å„ÄÇ</li>
<li>È´òÊïàÔºö<code>thriftgo</code> ‰ΩøÁî®‰∫Ü Thrift ÂçèËÆÆÁöÑ‰∫åËøõÂà∂ÁºñÁ†ÅÊñπÂºèÔºåÂèØ‰ª•ÊèêÈ´òÈÄö‰ø°ÁöÑÊïàÁéá„ÄÇ</li>
<li>ÂèØÊâ©Â±ïÔºö<code>thriftgo</code> ÊîØÊåÅÂ§öÁßçÊãìÂ±ïÂäüËÉΩÔºåÂ¶ÇÂèØÂÆöÂà∂ÁöÑÁîüÊàê‰ª£Á†Å„ÄÅÂ§öÁßçÂ∫èÂàóÂåñÊñπÂºèÁ≠â„ÄÇ</li>
</ol>
<p>ÊÄª‰πãÔºå<code>thriftgo</code> ÊòØ‰∏Ä‰∏™ÈùûÂ∏∏ÂÆûÁî®ÁöÑÂ∑•ÂÖ∑ÔºåÂèØ‰ª•Â∏ÆÂä©ÂºÄÂèë‰∫∫ÂëòÂø´ÈÄüÂÆûÁé∞Ë∑®ËØ≠Ë®ÄÁöÑÈÄö‰ø°ÂíåÊï∞ÊçÆ‰∫§Êç¢„ÄÇ</p>
<p>protocÊòØ‰ªÄ‰πà</p>
<p><code>protoc</code> ÊòØ Protocol Buffers ÂçèËÆÆÁöÑÁºñËØëÂô®ÔºåÂÆÉÁî®‰∫éÂ∞ÜÂÆö‰πâÁöÑ Protocol Buffers ÂçèËÆÆÊñá‰ª∂Ôºà.proto Êñá‰ª∂ÔºâËΩ¨Êç¢ÊàêÂØπÂ∫îÁöÑÁºñÁ®ãËØ≠Ë®Ä‰ª£Á†ÅÔºåÂ¶Ç Java„ÄÅC++„ÄÅPython Á≠â„ÄÇProtocol Buffers ÊòØ‰∏ÄÁßçÁî®‰∫éÊï∞ÊçÆ‰∫§Êç¢ÁöÑ‰∫åËøõÂà∂Ê†ºÂºèÔºåÂÆÉÂèØ‰ª•Âú®‰∏çÂêåÁöÑÁºñÁ®ãËØ≠Ë®ÄÂíåÂπ≥Âè∞‰πãÈó¥ËøõË°åÊï∞ÊçÆ‰∫§Êç¢„ÄÇ</p>
<p><code>protoc</code> ÊòØ‰∏Ä‰∏™ÂëΩ‰ª§Ë°åÂ∑•ÂÖ∑ÔºåÂèØ‰ª•Âú®ÂëΩ‰ª§Ë°å‰∏≠‰ΩøÁî®Ôºå‰πüÂèØ‰ª•Âú®‰ª£Á†Å‰∏≠Ë∞ÉÁî®„ÄÇ‰ΩøÁî® <code>protoc</code> ÂèØ‰ª•ÊûÅÂ§ßÂú∞ÁÆÄÂåñ Protocol Buffers ÂçèËÆÆÁöÑ‰ΩøÁî®ÔºåÂáèÂ∞ë‰ª£Á†ÅÁöÑËÄ¶ÂêàÂ∫¶ÔºåÊèêÈ´ò‰ª£Á†ÅÁöÑÂèØËØªÊÄßÂíåÂèØÁª¥Êä§ÊÄß„ÄÇ</p>
<p>‰ΩøÁî® <code>protoc</code> ÁºñËØë Protocol Buffers ÂçèËÆÆÊñá‰ª∂ÁöÑËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö</p>

</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="/tags/byte_tech/">Byte_tech</a>
        
            <a href="/tags/go/">Go</a>
        
    </section>


    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>Licensed under CC BY-NC-SA 4.0</span>
    </section>
    </footer>


    
</article>

    

    

<aside class="related-content--wrapper">
    <h2 class="section-title">Áõ∏ÂÖ≥ÊñáÁ´†</h2>
    <div class="related-content">
        <div class="flex article-list--tile">
            
                
<article class="">
    <a href="/p/go_%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BA%E9%9B%B6%E6%8B%B7%E8%B4%9D%E5%8F%8A%E5%BA%94%E7%94%A8/">
        
        

        <div class="article-details">
            <h2 class="article-title">Go_Ê∑±ÂÖ•ÊµÖÂá∫Èõ∂Êã∑Ë¥ùÂèäÂ∫îÁî®</h2>
        </div>
    </a>
</article>

            
                
<article class="">
    <a href="/p/go_quick_book/">
        
        

        <div class="article-details">
            <h2 class="article-title">Go_quick_book</h2>
        </div>
    </a>
</article>

            
                
<article class="">
    <a href="/p/%E6%BC%8F%E6%B4%9E/">
        
        

        <div class="article-details">
            <h2 class="article-title">ÊºèÊ¥û</h2>
        </div>
    </a>
</article>

            
                
<article class="">
    <a href="/p/go_/">
        
        

        <div class="article-details">
            <h2 class="article-title">Go_</h2>
        </div>
    </a>
</article>

            
                
<article class="">
    <a href="/p/go_/">
        
        

        <div class="article-details">
            <h2 class="article-title">Go_</h2>
        </div>
    </a>
</article>

            
        </div>
    </div>
</aside>

     
    
        
    <div class="disqus-container">
    <div id="disqus_thread"></div>
<script>
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "hugo-theme-stack" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>

<style>
    .disqus-container {
        background-color: var(--card-background);
        border-radius: var(--card-border-radius);
        box-shadow: var(--shadow-l1);
        padding: var(--card-padding);
    }
</style>

<script>
    window.addEventListener('onColorSchemeChange', (e) => {
        if (typeof DISQUS == 'object') {
            DISQUS.reset({
                reload: true
            });
        }
    })
</script>

    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2020 - 
        
        2024 Example Person
    </section>
    
    <section class="powerby">
        ‰ΩøÁî® <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> ÊûÑÂª∫ <br />
        ‰∏ªÈ¢ò <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.27.0">Stack</a></b> Áî± <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a> ËÆæËÆ°
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
